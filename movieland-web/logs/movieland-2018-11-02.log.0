02-11-2018 13:03:49.509 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 13:03:49.630 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@21a947fe, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5606c0b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@80ec1f8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1445d7f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6a396c1e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6c3f5566]
02-11-2018 13:03:50.827 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 13:03:50.988 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 13:03:51.384 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2584b82d: startup date [Fri Nov 02 13:03:51 EET 2018]; root of context hierarchy
02-11-2018 13:03:51.570 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 13:03:51.571 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 13:03:52.011 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 13:03:52.286 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 13:03:52.319 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 32 ms.
02-11-2018 13:03:52.320 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 13:03:52.612 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 292 ms.
02-11-2018 13:03:52.703 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 13:03:52.725 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 21 ms
02-11-2018 13:03:52.728 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 13:03:52.797 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 13:03:53.776 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 13:03:54.155 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 13:03:54.158 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 13:03:54.159 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 13:03:54.160 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 13:03:54.161 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 13:03:54.162 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 13:03:54.162 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 13:03:54.254 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@2584b82d: startup date [Fri Nov 02 13:03:51 EET 2018]; root of context hierarchy
02-11-2018 13:03:54.697 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 13:03:54.697 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 13:03:54.704 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@4bb003e9
02-11-2018 13:03:54.723 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 13:03:54.723 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 13:03:54.724 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 13:03:54.821 [main] WARN     o.s.web.servlet.PageNotFound.handleHttpRequestMethodNotSupported - Request method 'PUT' not supported
02-11-2018 13:03:54.908 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@2584b82d: startup date [Fri Nov 02 13:03:51 EET 2018]; root of context hierarchy
02-11-2018 13:03:54.916 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 13:04:38.601 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 13:04:38.643 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7bba5817, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@742ff096, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@75437611, org.springframework.test.context.support.DirtiesContextTestExecutionListener@350aac89, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1c5920df, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@17f9d882]
02-11-2018 13:04:39.933 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 13:04:40.132 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 13:04:40.631 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@439a8f59: startup date [Fri Nov 02 13:04:40 EET 2018]; root of context hierarchy
02-11-2018 13:04:40.926 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 13:04:40.928 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 13:04:41.250 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 13:04:41.506 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 13:04:41.540 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 34 ms.
02-11-2018 13:04:41.541 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 13:04:41.807 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 266 ms.
02-11-2018 13:04:41.907 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 13:04:41.924 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 17 ms
02-11-2018 13:04:41.927 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 13:04:42.021 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 13:04:43.052 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 13:04:43.406 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 13:04:43.410 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 13:04:43.411 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 13:04:43.412 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 13:04:43.413 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 13:04:43.415 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 13:04:43.416 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 13:04:43.567 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@439a8f59: startup date [Fri Nov 02 13:04:40 EET 2018]; root of context hierarchy
02-11-2018 13:04:44.055 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 13:04:44.056 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 13:04:44.065 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@3a7c678b
02-11-2018 13:04:44.080 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 13:04:44.081 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 13:04:44.082 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 13:04:44.205 [main] WARN     o.s.web.servlet.PageNotFound.handleHttpRequestMethodNotSupported - Request method 'PUT' not supported
02-11-2018 13:04:44.249 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@439a8f59: startup date [Fri Nov 02 13:04:40 EET 2018]; root of context hierarchy
02-11-2018 13:04:44.263 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 13:05:46.669 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 13:05:46.693 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1176dcec, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@120d6fe6, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@4ba2ca36, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3444d69d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1372ed45, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6a79c292]
02-11-2018 13:05:47.866 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 13:05:48.032 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 13:05:48.372 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@71687585: startup date [Fri Nov 02 13:05:48 EET 2018]; root of context hierarchy
02-11-2018 13:05:48.570 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 13:05:48.571 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 13:05:48.943 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 13:05:49.191 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 13:05:49.222 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 30 ms.
02-11-2018 13:05:49.223 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 13:05:49.470 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 247 ms.
02-11-2018 13:05:49.560 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 13:05:49.575 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 13 ms
02-11-2018 13:05:49.577 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 13:05:49.655 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 13:05:50.577 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 13:05:50.870 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 13:05:50.875 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 13:05:50.876 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 13:05:50.877 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 13:05:50.879 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 13:05:50.880 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 13:05:50.881 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 13:05:50.986 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@71687585: startup date [Fri Nov 02 13:05:48 EET 2018]; root of context hierarchy
02-11-2018 13:05:51.395 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 13:05:51.396 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 13:05:51.405 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@328902d5
02-11-2018 13:05:51.419 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 13:05:51.419 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 13:05:51.420 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 13:05:51.650 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUserByEmail - Finish processing query to get user by email. It took 14 ms
02-11-2018 13:05:51.653 [main] INFO     c.g.m.controller.SecurityController.login - User with uuid = 642ae5fa-ad69-4c3b-8893-9bce08ceb2c6 successfully logged in
02-11-2018 13:05:51.723 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@71687585: startup date [Fri Nov 02 13:05:48 EET 2018]; root of context hierarchy
02-11-2018 13:05:51.731 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 13:08:47.006 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 13:08:47.047 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1176dcec, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@120d6fe6, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@4ba2ca36, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3444d69d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1372ed45, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6a79c292]
02-11-2018 13:08:48.065 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 13:08:48.325 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 13:08:48.724 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@71687585: startup date [Fri Nov 02 13:08:48 EET 2018]; root of context hierarchy
02-11-2018 13:08:48.889 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 13:08:48.889 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 13:08:49.208 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 13:08:49.418 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 13:08:49.457 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 39 ms.
02-11-2018 13:08:49.457 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 13:08:49.738 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 280 ms.
02-11-2018 13:08:49.826 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 13:08:49.842 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 15 ms
02-11-2018 13:08:49.846 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 13:08:49.909 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 13:08:50.764 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 13:08:51.082 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 13:08:51.087 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 13:08:51.088 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 13:08:51.089 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 13:08:51.090 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 13:08:51.092 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 13:08:51.094 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 13:08:51.218 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@71687585: startup date [Fri Nov 02 13:08:48 EET 2018]; root of context hierarchy
02-11-2018 13:08:51.779 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 13:08:51.780 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 13:08:51.794 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@328902d5
02-11-2018 13:08:51.814 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 13:08:51.814 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 13:08:51.816 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 13:08:51.991 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUserByEmail - Finish processing query to get user by email. It took 12 ms
02-11-2018 13:08:51.993 [main] INFO     c.g.m.controller.SecurityController.login - User with uuid = 6ad773c9-30a3-46e8-acec-010de035bbb3 successfully logged in
02-11-2018 13:08:52.167 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@71687585: startup date [Fri Nov 02 13:08:48 EET 2018]; root of context hierarchy
02-11-2018 13:08:52.172 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 13:09:11.985 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 13:09:12.040 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1176dcec, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@120d6fe6, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@4ba2ca36, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3444d69d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1372ed45, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6a79c292]
02-11-2018 13:09:13.130 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 13:09:13.303 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 13:09:13.638 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@71687585: startup date [Fri Nov 02 13:09:13 EET 2018]; root of context hierarchy
02-11-2018 13:09:13.825 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 13:09:13.826 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 13:09:14.174 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 13:09:14.386 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 13:09:14.417 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 30 ms.
02-11-2018 13:09:14.417 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 13:09:14.701 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 283 ms.
02-11-2018 13:09:14.774 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 13:09:14.790 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 15 ms
02-11-2018 13:09:14.792 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 13:09:14.847 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 13:09:15.735 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 13:09:16.029 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 13:09:16.033 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 13:09:16.034 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 13:09:16.035 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 13:09:16.036 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 13:09:16.038 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 13:09:16.039 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 13:09:16.140 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@71687585: startup date [Fri Nov 02 13:09:13 EET 2018]; root of context hierarchy
02-11-2018 13:09:16.596 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 13:09:16.597 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 13:09:16.606 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@328902d5
02-11-2018 13:09:16.621 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 13:09:16.622 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 13:09:16.626 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 4 ms
02-11-2018 13:09:16.798 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUserByEmail - Finish processing query to get user by email. It took 11 ms
02-11-2018 13:09:16.800 [main] INFO     c.g.m.controller.SecurityController.login - User with uuid = 1e8e51c3-9bad-41b0-ba57-2fceb456d47f successfully logged in
02-11-2018 13:09:16.922 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@71687585: startup date [Fri Nov 02 13:09:13 EET 2018]; root of context hierarchy
02-11-2018 13:09:16.938 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 13:11:45.614 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 13:11:45.672 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1176dcec, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@120d6fe6, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@4ba2ca36, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3444d69d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1372ed45, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6a79c292]
02-11-2018 13:11:46.768 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 13:11:46.939 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 13:11:47.414 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@71687585: startup date [Fri Nov 02 13:11:47 EET 2018]; root of context hierarchy
02-11-2018 13:11:47.692 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 13:11:47.695 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 13:11:48.144 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 13:11:48.412 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 13:11:48.443 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 31 ms.
02-11-2018 13:11:48.443 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 13:11:48.700 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 256 ms.
02-11-2018 13:11:48.770 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 13:11:48.783 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 13 ms
02-11-2018 13:11:48.785 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 13:11:48.837 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 13:11:49.718 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 13:11:50.014 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 13:11:50.019 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 13:11:50.020 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 13:11:50.021 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 13:11:50.022 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 13:11:50.024 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 13:11:50.025 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 13:11:50.127 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@71687585: startup date [Fri Nov 02 13:11:47 EET 2018]; root of context hierarchy
02-11-2018 13:11:50.655 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 13:11:50.656 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 13:11:50.665 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@6eaa21d8
02-11-2018 13:11:50.684 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 13:11:50.684 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 13:11:50.686 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 13:11:50.861 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUserByEmail - Finish processing query to get user by email. It took 12 ms
02-11-2018 13:11:50.863 [main] INFO     c.g.m.controller.SecurityController.login - User with uuid = fe8ef914-54e3-4008-9e30-7413c14e06fa successfully logged in
02-11-2018 13:11:51.011 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@71687585: startup date [Fri Nov 02 13:11:47 EET 2018]; root of context hierarchy
02-11-2018 13:11:51.016 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 13:15:53.302 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 13:15:53.322 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1176dcec, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@120d6fe6, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@4ba2ca36, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3444d69d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1372ed45, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6a79c292]
02-11-2018 13:15:54.355 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 13:15:54.578 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 13:15:55.149 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@71687585: startup date [Fri Nov 02 13:15:55 EET 2018]; root of context hierarchy
02-11-2018 13:15:55.439 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 13:15:55.440 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 13:15:56.007 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 13:15:56.289 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 13:15:56.317 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 27 ms.
02-11-2018 13:15:56.317 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 13:15:56.553 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 236 ms.
02-11-2018 13:15:56.635 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 13:15:56.651 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 16 ms
02-11-2018 13:15:56.657 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 13:15:56.718 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 13:15:57.617 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 13:15:57.896 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 13:15:57.901 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 13:15:57.902 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 13:15:57.903 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 13:15:57.904 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 13:15:57.905 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 13:15:57.906 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 13:15:58.003 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@71687585: startup date [Fri Nov 02 13:15:55 EET 2018]; root of context hierarchy
02-11-2018 13:15:58.398 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 13:15:58.399 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 13:15:58.406 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@328902d5
02-11-2018 13:15:58.419 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 13:15:58.420 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 13:15:58.421 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 13:15:58.566 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@71687585: startup date [Fri Nov 02 13:15:55 EET 2018]; root of context hierarchy
02-11-2018 13:15:58.575 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 13:17:27.325 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 13:17:27.352 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1176dcec, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@120d6fe6, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@4ba2ca36, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3444d69d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1372ed45, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6a79c292]
02-11-2018 13:17:28.435 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 13:17:28.612 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 13:17:29.021 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@71687585: startup date [Fri Nov 02 13:17:29 EET 2018]; root of context hierarchy
02-11-2018 13:17:29.185 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 13:17:29.186 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 13:17:29.539 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 13:17:29.938 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 13:17:29.979 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 40 ms.
02-11-2018 13:17:29.980 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 13:17:30.298 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 318 ms.
02-11-2018 13:17:30.367 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 13:17:30.381 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 13 ms
02-11-2018 13:17:30.384 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 13:17:30.455 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 13:17:31.342 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 13:17:31.642 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 13:17:31.646 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 13:17:31.648 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 13:17:31.649 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 13:17:31.650 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 13:17:31.652 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 13:17:31.653 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 13:17:31.748 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@71687585: startup date [Fri Nov 02 13:17:29 EET 2018]; root of context hierarchy
02-11-2018 13:17:32.159 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 13:17:32.160 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 13:17:32.170 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@328902d5
02-11-2018 13:17:32.185 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 13:17:32.185 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 13:17:32.186 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 13:17:32.319 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@71687585: startup date [Fri Nov 02 13:17:29 EET 2018]; root of context hierarchy
02-11-2018 13:17:32.330 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 16:29:00.333 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 16:29:00.425 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1176dcec, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@120d6fe6, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@4ba2ca36, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3444d69d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1372ed45, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6a79c292]
02-11-2018 16:29:01.568 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 16:29:01.759 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 16:29:02.118 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@71687585: startup date [Fri Nov 02 16:29:02 EET 2018]; root of context hierarchy
02-11-2018 16:29:02.292 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 16:29:02.293 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 16:29:02.698 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 16:29:02.916 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 16:29:02.966 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 50 ms.
02-11-2018 16:29:02.967 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 16:29:03.206 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 239 ms.
02-11-2018 16:29:03.286 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 16:29:03.307 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 20 ms
02-11-2018 16:29:03.310 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 16:29:03.381 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 16:29:04.824 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 16:29:05.207 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 16:29:05.212 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 16:29:05.213 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 16:29:05.214 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 16:29:05.215 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 16:29:05.217 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 16:29:05.218 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 16:29:05.219 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 16:29:05.350 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@71687585: startup date [Fri Nov 02 16:29:02 EET 2018]; root of context hierarchy
02-11-2018 16:29:05.856 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 16:29:05.864 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@50acf55d
02-11-2018 16:29:05.905 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 16:29:05.905 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 16:29:05.906 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 16:29:06.122 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@71687585: startup date [Fri Nov 02 16:29:02 EET 2018]; root of context hierarchy
02-11-2018 16:29:06.129 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 16:31:56.307 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 16:31:56.340 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1176dcec, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@120d6fe6, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@4ba2ca36, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3444d69d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1372ed45, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6a79c292]
02-11-2018 16:31:57.650 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 16:31:57.879 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 16:31:58.360 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@71687585: startup date [Fri Nov 02 16:31:58 EET 2018]; root of context hierarchy
02-11-2018 16:31:58.725 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 16:31:58.726 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 16:31:59.285 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 16:31:59.519 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 16:31:59.552 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 33 ms.
02-11-2018 16:31:59.552 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 16:31:59.790 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 237 ms.
02-11-2018 16:31:59.869 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 16:31:59.892 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 23 ms
02-11-2018 16:31:59.895 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 16:31:59.955 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 16:32:00.878 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 16:32:01.185 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 16:32:01.189 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 16:32:01.190 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 16:32:01.191 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 16:32:01.192 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 16:32:01.193 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 16:32:01.195 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 16:32:01.196 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 16:32:01.296 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@71687585: startup date [Fri Nov 02 16:31:58 EET 2018]; root of context hierarchy
02-11-2018 16:32:01.736 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 16:32:01.745 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@50acf55d
02-11-2018 16:32:01.761 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 16:32:01.761 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 16:32:01.762 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 16:32:01.977 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@71687585: startup date [Fri Nov 02 16:31:58 EET 2018]; root of context hierarchy
02-11-2018 16:32:01.995 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 16:35:04.342 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 16:35:04.364 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@120d6fe6, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4ba2ca36, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@3444d69d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1372ed45, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6a79c292, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@37574691]
02-11-2018 16:35:05.409 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 16:35:05.660 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 16:35:06.065 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1b919693: startup date [Fri Nov 02 16:35:06 EET 2018]; root of context hierarchy
02-11-2018 16:35:06.236 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 16:35:06.237 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 16:35:06.544 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 16:35:06.812 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 16:35:06.844 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 32 ms.
02-11-2018 16:35:06.845 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 16:35:07.075 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 230 ms.
02-11-2018 16:35:07.154 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 16:35:07.172 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 17 ms
02-11-2018 16:35:07.175 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 16:35:07.235 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 16:35:08.181 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 16:35:08.490 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 16:35:08.495 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 16:35:08.496 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 16:35:08.497 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 16:35:08.498 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 16:35:08.500 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 16:35:08.501 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 16:35:08.502 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 16:35:08.610 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@1b919693: startup date [Fri Nov 02 16:35:06 EET 2018]; root of context hierarchy
02-11-2018 16:35:09.023 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 16:35:09.031 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@184dbacc
02-11-2018 16:35:09.045 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 16:35:09.045 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 16:35:09.046 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 16:35:09.051 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 16:35:09.052 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 16:35:09.052 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 16:35:09.052 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 16:35:09.059 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@ab20d7c
02-11-2018 16:35:09.062 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 16:35:09.062 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 16:35:09.062 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 16:35:09.234 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1]
02-11-2018 16:35:09.252 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1]. It took 17 ms
02-11-2018 16:35:09.253 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1]
02-11-2018 16:35:09.256 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1]. It took 3 ms
02-11-2018 16:35:09.257 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1]
02-11-2018 16:35:09.260 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1]. It took 2 ms
02-11-2018 16:35:09.260 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Start processing query to get reviews with moviesId: 1
02-11-2018 16:35:09.264 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Finish processing query to get reviews with moviesId: 1. It took 3 ms
02-11-2018 16:35:09.264 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUsersByIds - Start processing query to get users with userIds: [2, 3]
02-11-2018 16:35:09.276 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
02-11-2018 16:35:09.398 [main] INFO     o.s.j.support.SQLErrorCodesFactory.<init> - SQLErrorCodes loaded: [DB2, Derby, H2, HDB, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase]
02-11-2018 16:35:09.416 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@1b919693: startup date [Fri Nov 02 16:35:06 EET 2018]; root of context hierarchy
02-11-2018 16:35:09.424 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 16:37:57.811 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 16:37:57.840 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@120d6fe6, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4ba2ca36, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@3444d69d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1372ed45, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6a79c292, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@37574691]
02-11-2018 16:37:59.036 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 16:37:59.208 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 16:37:59.561 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1b919693: startup date [Fri Nov 02 16:37:59 EET 2018]; root of context hierarchy
02-11-2018 16:37:59.770 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 16:37:59.771 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 16:38:00.138 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 16:38:00.382 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 16:38:00.416 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 33 ms.
02-11-2018 16:38:00.417 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 16:38:00.658 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 241 ms.
02-11-2018 16:38:00.748 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 16:38:00.769 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 20 ms
02-11-2018 16:38:00.772 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 16:38:00.830 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 16:38:01.767 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 16:38:02.095 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 16:38:02.100 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 16:38:02.101 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 16:38:02.102 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 16:38:02.103 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 16:38:02.112 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 16:38:02.116 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 16:38:02.119 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 16:38:02.252 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@1b919693: startup date [Fri Nov 02 16:37:59 EET 2018]; root of context hierarchy
02-11-2018 16:38:02.702 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 16:38:02.708 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@184dbacc
02-11-2018 16:38:02.725 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 16:38:02.726 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 16:38:02.727 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 16:38:02.735 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 16:38:02.736 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 16:38:02.737 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 16:38:02.738 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 16:38:02.747 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@ab20d7c
02-11-2018 16:38:02.750 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 16:38:02.751 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 16:38:02.751 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 16:38:02.944 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1]
02-11-2018 16:38:02.958 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1]. It took 13 ms
02-11-2018 16:38:02.958 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1]
02-11-2018 16:38:02.961 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1]. It took 2 ms
02-11-2018 16:38:02.962 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1]
02-11-2018 16:38:02.964 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1]. It took 2 ms
02-11-2018 16:38:02.964 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Start processing query to get reviews with moviesId: 1
02-11-2018 16:38:02.968 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Finish processing query to get reviews with moviesId: 1. It took 3 ms
02-11-2018 16:38:02.969 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUsersByIds - Start processing query to get users with userIds: [2, 3]
02-11-2018 16:38:02.978 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
02-11-2018 16:38:03.031 [main] INFO     o.s.j.support.SQLErrorCodesFactory.<init> - SQLErrorCodes loaded: [DB2, Derby, H2, HDB, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase]
02-11-2018 16:38:03.049 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@1b919693: startup date [Fri Nov 02 16:37:59 EET 2018]; root of context hierarchy
02-11-2018 16:38:03.055 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 16:43:20.044 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 16:43:20.069 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@120d6fe6, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4ba2ca36, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@3444d69d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1372ed45, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6a79c292, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@37574691]
02-11-2018 16:43:21.304 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 16:43:21.548 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 16:43:21.995 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1b919693: startup date [Fri Nov 02 16:43:21 EET 2018]; root of context hierarchy
02-11-2018 16:43:22.243 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 16:43:22.244 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 16:43:22.702 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 16:43:22.911 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 16:43:22.943 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 32 ms.
02-11-2018 16:43:22.943 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 16:43:23.167 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 223 ms.
02-11-2018 16:43:23.251 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 16:43:23.268 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 17 ms
02-11-2018 16:43:23.270 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 16:43:23.317 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 16:43:24.216 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 16:43:24.541 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 16:43:24.546 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 16:43:24.547 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 16:43:24.548 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 16:43:24.549 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 16:43:24.550 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 16:43:24.553 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 16:43:24.554 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 16:43:24.665 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@1b919693: startup date [Fri Nov 02 16:43:21 EET 2018]; root of context hierarchy
02-11-2018 16:43:25.161 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 16:43:25.172 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@184dbacc
02-11-2018 16:43:25.188 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 16:43:25.189 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 16:43:25.190 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 16:43:25.196 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 16:43:25.197 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 16:43:25.198 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 16:43:25.199 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 16:43:25.208 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@ab20d7c
02-11-2018 16:43:25.213 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 16:43:25.213 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 16:43:25.214 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 16:43:25.416 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1]
02-11-2018 16:43:25.437 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1]. It took 20 ms
02-11-2018 16:43:25.438 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1]
02-11-2018 16:43:25.442 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1]. It took 3 ms
02-11-2018 16:43:25.443 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1]
02-11-2018 16:43:25.445 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1]. It took 1 ms
02-11-2018 16:43:25.446 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Start processing query to get reviews with moviesId: 1
02-11-2018 16:43:25.450 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Finish processing query to get reviews with moviesId: 1. It took 3 ms
02-11-2018 16:43:25.451 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUsersByIds - Start processing query to get users with userIds: [2, 3]
02-11-2018 16:43:25.465 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
02-11-2018 16:43:25.526 [main] INFO     o.s.j.support.SQLErrorCodesFactory.<init> - SQLErrorCodes loaded: [DB2, Derby, H2, HDB, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase]
02-11-2018 16:43:25.551 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@1b919693: startup date [Fri Nov 02 16:43:21 EET 2018]; root of context hierarchy
02-11-2018 16:43:25.565 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 16:45:28.817 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 16:45:28.856 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@120d6fe6, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4ba2ca36, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@3444d69d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1372ed45, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6a79c292, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@37574691]
02-11-2018 16:45:29.969 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 16:45:30.221 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 16:45:30.612 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1b919693: startup date [Fri Nov 02 16:45:30 EET 2018]; root of context hierarchy
02-11-2018 16:45:30.808 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 16:45:30.809 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 16:45:31.255 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 16:45:31.518 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 16:45:31.549 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 30 ms.
02-11-2018 16:45:31.550 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 16:45:31.935 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 385 ms.
02-11-2018 16:45:32.010 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 16:45:32.028 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 17 ms
02-11-2018 16:45:32.031 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 16:45:32.098 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 16:45:33.109 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 16:45:33.461 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 16:45:33.465 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 16:45:33.466 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 16:45:33.469 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 16:45:33.472 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 16:45:33.475 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 16:45:33.477 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 16:45:33.486 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 16:45:33.607 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@1b919693: startup date [Fri Nov 02 16:45:30 EET 2018]; root of context hierarchy
02-11-2018 16:45:34.018 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 16:45:34.026 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@184dbacc
02-11-2018 16:45:34.043 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 16:45:34.043 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 16:45:34.044 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 16:45:34.050 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 16:45:34.051 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 16:45:34.052 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 16:45:34.053 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 16:45:34.061 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@ab20d7c
02-11-2018 16:45:34.065 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 16:45:34.066 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 16:45:34.067 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 16:45:34.262 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1]
02-11-2018 16:45:34.275 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1]. It took 13 ms
02-11-2018 16:45:34.275 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1]
02-11-2018 16:45:34.279 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1]. It took 2 ms
02-11-2018 16:45:34.279 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1]
02-11-2018 16:45:34.281 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1]. It took 1 ms
02-11-2018 16:45:34.282 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Start processing query to get reviews with moviesId: 1
02-11-2018 16:45:34.284 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Finish processing query to get reviews with moviesId: 1. It took 2 ms
02-11-2018 16:45:34.285 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUsersByIds - Start processing query to get users with userIds: [2, 3]
02-11-2018 16:45:34.294 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
02-11-2018 16:45:34.345 [main] INFO     o.s.j.support.SQLErrorCodesFactory.<init> - SQLErrorCodes loaded: [DB2, Derby, H2, HDB, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase]
02-11-2018 16:45:34.366 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@1b919693: startup date [Fri Nov 02 16:45:30 EET 2018]; root of context hierarchy
02-11-2018 16:45:34.372 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 16:46:13.439 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 16:46:13.533 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@8458f04, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@48075da3, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@68c9133c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7a35b0f5, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5e2c3d18, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2cb4893b]
02-11-2018 16:46:14.683 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 16:46:14.867 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 16:46:15.278 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@31024624: startup date [Fri Nov 02 16:46:15 EET 2018]; root of context hierarchy
02-11-2018 16:46:15.494 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 16:46:15.496 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 16:46:15.835 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 16:46:16.067 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 16:46:16.102 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 34 ms.
02-11-2018 16:46:16.102 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 16:46:16.392 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 290 ms.
02-11-2018 16:46:16.496 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 16:46:16.514 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 18 ms
02-11-2018 16:46:16.517 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 16:46:16.605 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 16:46:17.620 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 16:46:17.969 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 16:46:17.974 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 16:46:17.975 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 16:46:17.976 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 16:46:17.977 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 16:46:17.979 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 16:46:17.981 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 16:46:17.982 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 16:46:18.138 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@31024624: startup date [Fri Nov 02 16:46:15 EET 2018]; root of context hierarchy
02-11-2018 16:46:18.613 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 16:46:18.626 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@364fd4ae
02-11-2018 16:46:18.645 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 16:46:18.646 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 16:46:18.647 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 16:46:18.652 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 16:46:18.653 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 16:46:18.654 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 16:46:18.655 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 16:46:18.668 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@47a7c93e
02-11-2018 16:46:18.673 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 16:46:18.673 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 16:46:18.674 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 16:46:18.922 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1]
02-11-2018 16:46:18.952 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1]. It took 27 ms
02-11-2018 16:46:18.953 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1]
02-11-2018 16:46:18.957 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1]. It took 3 ms
02-11-2018 16:46:18.958 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1]
02-11-2018 16:46:18.961 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1]. It took 2 ms
02-11-2018 16:46:18.962 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Start processing query to get reviews with moviesId: 1
02-11-2018 16:46:18.966 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Finish processing query to get reviews with moviesId: 1. It took 4 ms
02-11-2018 16:46:18.967 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUsersByIds - Start processing query to get users with userIds: [2, 3]
02-11-2018 16:46:18.985 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
02-11-2018 16:46:19.048 [main] INFO     o.s.j.support.SQLErrorCodesFactory.<init> - SQLErrorCodes loaded: [DB2, Derby, H2, HDB, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase]
02-11-2018 16:46:19.068 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@31024624: startup date [Fri Nov 02 16:46:15 EET 2018]; root of context hierarchy
02-11-2018 16:46:19.090 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 16:47:20.584 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 16:47:20.668 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@8458f04, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@48075da3, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@68c9133c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7a35b0f5, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5e2c3d18, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2cb4893b]
02-11-2018 16:47:21.874 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 16:47:22.013 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 16:47:22.309 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@31024624: startup date [Fri Nov 02 16:47:22 EET 2018]; root of context hierarchy
02-11-2018 16:47:22.512 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 16:47:22.513 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 16:47:22.845 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 16:47:23.067 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 16:47:23.103 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 35 ms.
02-11-2018 16:47:23.104 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 16:47:23.371 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 266 ms.
02-11-2018 16:47:23.474 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 16:47:23.491 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 16 ms
02-11-2018 16:47:23.494 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 16:47:23.570 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 16:47:24.572 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 16:47:24.928 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 16:47:24.933 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 16:47:24.934 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 16:47:24.936 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 16:47:24.937 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 16:47:24.938 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 16:47:24.940 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 16:47:24.941 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 16:47:25.065 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@31024624: startup date [Fri Nov 02 16:47:22 EET 2018]; root of context hierarchy
02-11-2018 16:47:25.552 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 16:47:25.561 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@66f5a02e
02-11-2018 16:47:25.580 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 16:47:25.581 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 16:47:25.582 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 16:47:25.588 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 16:47:25.589 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 16:47:25.589 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 16:47:25.590 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 16:47:25.600 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@2574a9e3
02-11-2018 16:47:25.605 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 16:47:25.606 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 16:47:25.607 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 16:48:17.999 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@31024624: startup date [Fri Nov 02 16:47:22 EET 2018]; root of context hierarchy
02-11-2018 16:48:18.027 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 16:49:18.677 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 16:49:18.700 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@120d6fe6, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4ba2ca36, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@3444d69d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1372ed45, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6a79c292, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@37574691]
02-11-2018 16:49:19.803 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 16:49:19.945 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 16:49:20.199 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1b919693: startup date [Fri Nov 02 16:49:20 EET 2018]; root of context hierarchy
02-11-2018 16:49:20.358 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 16:49:20.359 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 16:49:20.624 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 16:49:20.813 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 16:49:20.845 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 32 ms.
02-11-2018 16:49:20.845 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 16:49:21.082 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 236 ms.
02-11-2018 16:49:21.162 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 16:49:21.180 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 17 ms
02-11-2018 16:49:21.183 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 16:49:21.246 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 16:49:22.180 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 16:49:22.497 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 16:49:22.501 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 16:49:22.502 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 16:49:22.503 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 16:49:22.504 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 16:49:22.506 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 16:49:22.507 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 16:49:22.508 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 16:49:22.610 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@1b919693: startup date [Fri Nov 02 16:49:20 EET 2018]; root of context hierarchy
02-11-2018 16:49:22.999 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 16:49:23.005 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@184dbacc
02-11-2018 16:49:23.022 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 16:49:23.023 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 16:49:23.024 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 16:49:23.030 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 16:49:23.031 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 16:49:23.032 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 16:49:23.033 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 16:49:23.041 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@ab20d7c
02-11-2018 16:49:23.045 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 16:49:23.046 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 16:49:23.046 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 16:49:23.247 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1]
02-11-2018 16:49:23.264 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1]. It took 16 ms
02-11-2018 16:49:23.264 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1]
02-11-2018 16:49:23.268 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1]. It took 3 ms
02-11-2018 16:49:23.269 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1]
02-11-2018 16:49:23.271 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1]. It took 2 ms
02-11-2018 16:49:23.272 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Start processing query to get reviews with moviesId: 1
02-11-2018 16:49:23.275 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Finish processing query to get reviews with moviesId: 1. It took 2 ms
02-11-2018 16:49:23.276 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUsersByIds - Start processing query to get users with userIds: [2, 3]
02-11-2018 16:49:23.289 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
02-11-2018 16:49:23.340 [main] INFO     o.s.j.support.SQLErrorCodesFactory.<init> - SQLErrorCodes loaded: [DB2, Derby, H2, HDB, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase]
02-11-2018 16:49:23.362 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@1b919693: startup date [Fri Nov 02 16:49:20 EET 2018]; root of context hierarchy
02-11-2018 16:49:23.373 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 16:53:12.915 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 16:53:12.945 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@120d6fe6, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4ba2ca36, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@3444d69d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1372ed45, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6a79c292, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@37574691]
02-11-2018 16:53:13.986 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 16:53:14.163 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 16:53:14.456 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1b919693: startup date [Fri Nov 02 16:53:14 EET 2018]; root of context hierarchy
02-11-2018 16:53:14.609 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 16:53:14.610 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 16:53:14.890 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 16:53:15.079 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 16:53:15.112 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 33 ms.
02-11-2018 16:53:15.113 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 16:53:15.365 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 252 ms.
02-11-2018 16:53:15.448 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 16:53:15.465 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 16 ms
02-11-2018 16:53:15.468 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 16:53:15.520 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 16:53:16.396 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 16:53:16.719 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 16:53:16.724 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 16:53:16.725 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 16:53:16.726 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 16:53:16.727 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 16:53:16.729 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 16:53:16.730 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 16:53:16.731 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 16:53:16.862 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@1b919693: startup date [Fri Nov 02 16:53:14 EET 2018]; root of context hierarchy
02-11-2018 16:53:17.386 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 16:53:17.396 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@184dbacc
02-11-2018 16:53:17.416 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 16:53:17.417 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 16:53:17.418 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 16:53:17.424 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 16:53:17.425 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 16:53:17.426 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 16:53:17.427 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 16:53:17.436 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@ab20d7c
02-11-2018 16:53:17.440 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 16:53:17.440 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 16:53:17.441 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 16:53:17.643 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@1b919693: startup date [Fri Nov 02 16:53:14 EET 2018]; root of context hierarchy
02-11-2018 16:53:17.657 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 17:12:13.406 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 17:12:13.432 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@120d6fe6, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4ba2ca36, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@3444d69d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1372ed45, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6a79c292, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@37574691]
02-11-2018 17:12:14.497 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 17:12:14.779 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 17:12:15.144 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1b919693: startup date [Fri Nov 02 17:12:15 EET 2018]; root of context hierarchy
02-11-2018 17:12:15.330 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 17:12:15.331 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 17:12:15.669 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 17:12:15.885 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 17:12:15.917 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 31 ms.
02-11-2018 17:12:15.918 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 17:12:16.180 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 262 ms.
02-11-2018 17:12:16.267 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 17:12:16.290 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 22 ms
02-11-2018 17:12:16.293 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 17:12:16.358 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 17:12:17.266 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 17:12:17.562 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 17:12:17.567 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:12:17.568 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:12:17.569 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:12:17.570 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:12:17.572 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 17:12:17.573 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 17:12:17.574 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 17:12:17.696 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@1b919693: startup date [Fri Nov 02 17:12:15 EET 2018]; root of context hierarchy
02-11-2018 17:12:18.054 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 17:12:18.061 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@184dbacc
02-11-2018 17:12:18.077 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:12:18.077 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:12:18.078 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:12:18.084 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:12:18.085 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:12:18.086 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:12:18.087 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:12:18.094 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@ab20d7c
02-11-2018 17:12:18.097 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:12:18.097 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:12:18.097 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:12:18.286 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@1b919693: startup date [Fri Nov 02 17:12:15 EET 2018]; root of context hierarchy
02-11-2018 17:12:18.294 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 17:16:34.562 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 17:16:34.583 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@448ff1a8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1a38c59b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7f77e91b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@44a664f2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7f9fcf7f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2357d90a]
02-11-2018 17:16:34.939 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 17:16:35.054 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 17:16:35.258 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@671a5887: startup date [Fri Nov 02 17:16:35 EET 2018]; root of context hierarchy
02-11-2018 17:16:35.399 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 17:16:35.400 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 17:16:35.726 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 17:16:35.873 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 17:16:35.900 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 26 ms.
02-11-2018 17:16:35.901 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 17:16:36.122 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 221 ms.
02-11-2018 17:16:36.196 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 17:16:36.210 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 13 ms
02-11-2018 17:16:36.212 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 17:16:36.420 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 17:16:37.323 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 17:16:37.610 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 17:16:37.615 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:16:37.617 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:16:37.618 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:16:37.620 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:16:37.622 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 17:16:37.627 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 17:16:37.628 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 17:16:37.745 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@671a5887: startup date [Fri Nov 02 17:16:35 EET 2018]; root of context hierarchy
02-11-2018 17:16:38.310 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 17:16:38.320 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@66153688
02-11-2018 17:16:38.339 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:16:38.340 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:16:38.341 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 17:16:38.412 [main] INFO     c.g.movieland.dao.cache.GenreCache.getAll - Get all genres from cache
02-11-2018 17:16:38.603 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 17:16:38.604 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2eadc9f6, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2903c6ff, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@61af1510, org.springframework.test.context.support.DirtiesContextTestExecutionListener@37af1f93, org.springframework.test.context.transaction.TransactionalTestExecutionListener@778d82e9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@408e96d9]
02-11-2018 17:16:38.619 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:16:38.620 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:16:38.621 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:16:38.622 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:16:38.634 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@d8d9199
02-11-2018 17:16:38.637 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:16:38.638 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:16:38.638 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:16:38.689 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getAll - Start processing query to get all movies
02-11-2018 17:16:38.699 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getAll - Finish processing query to get all movies. It took 9 ms
02-11-2018 17:16:38.700 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]
02-11-2018 17:16:38.720 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]. It took 19 ms
02-11-2018 17:16:38.721 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]
02-11-2018 17:16:38.726 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]. It took 4 ms
02-11-2018 17:16:38.795 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:16:38.796 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:16:38.797 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:16:38.799 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:16:38.806 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@5ba26eb0
02-11-2018 17:16:38.810 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:16:38.810 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:16:38.811 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:16:38.813 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getThreeRandomMovie - Start processing query to get 3 random movies
02-11-2018 17:16:38.830 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getThreeRandomMovie - Finish processing query to get 3 random movies. It took 16 ms
02-11-2018 17:16:38.830 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [11, 8, 16]
02-11-2018 17:16:38.833 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [11, 8, 16]. It took 2 ms
02-11-2018 17:16:38.834 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [11, 8, 16]
02-11-2018 17:16:38.838 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [11, 8, 16]. It took 3 ms
02-11-2018 17:16:38.856 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:16:38.857 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:16:38.858 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:16:38.858 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:16:38.868 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@1f77b5cc
02-11-2018 17:16:38.871 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:16:38.872 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:16:38.873 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 17:16:38.883 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getMoviesIdsByGenreId - Start processing query to get movieIds by genreId
02-11-2018 17:16:38.890 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getMoviesIdsByGenreId - Finish processing query to get movieIds by genreId. It took 6 ms
02-11-2018 17:16:38.891 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]
02-11-2018 17:16:38.900 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]. It took 7 ms
02-11-2018 17:16:38.900 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]
02-11-2018 17:16:38.904 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]. It took 3 ms
02-11-2018 17:16:38.906 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]
02-11-2018 17:16:38.908 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]. It took 2 ms
02-11-2018 17:16:38.939 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:16:38.941 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:16:38.941 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:16:38.942 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:16:38.951 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@1894e40d
02-11-2018 17:16:38.955 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:16:38.955 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:16:38.956 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:16:38.960 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1]
02-11-2018 17:16:38.962 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1]. It took 1 ms
02-11-2018 17:16:38.963 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1]
02-11-2018 17:16:38.965 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1]. It took 1 ms
02-11-2018 17:16:38.966 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1]
02-11-2018 17:16:38.968 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1]. It took 1 ms
02-11-2018 17:16:38.969 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Start processing query to get reviews with moviesId: 1
02-11-2018 17:16:38.971 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Finish processing query to get reviews with moviesId: 1. It took 2 ms
02-11-2018 17:16:38.972 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUsersByIds - Start processing query to get users with userIds: [2, 3]
02-11-2018 17:16:38.985 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
02-11-2018 17:16:39.034 [main] INFO     o.s.j.support.SQLErrorCodesFactory.<init> - SQLErrorCodes loaded: [DB2, Derby, H2, HDB, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase]
02-11-2018 17:16:39.065 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 17:16:39.071 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6726cc69, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4b6d92e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@33899f7a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7899de11, org.springframework.test.context.transaction.TransactionalTestExecutionListener@290d10ef, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1bc0d349]
02-11-2018 17:16:39.200 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 17:16:39.201 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 17:16:39.208 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@46963479
02-11-2018 17:16:39.215 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:16:39.217 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:16:39.218 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:16:39.363 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 17:16:39.375 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 17:16:39.388 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@1981d861
02-11-2018 17:16:39.394 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:16:39.396 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:16:39.397 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:16:39.426 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 17:16:39.427 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7724704f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3dfa819, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@4ce94d2f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@68ab0936, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3cd9aa64, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@42b84286]
02-11-2018 17:16:39.441 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 17:16:39.448 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@53b7ce6
02-11-2018 17:16:39.452 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:16:39.452 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:16:39.453 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 17:16:39.456 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:16:39.457 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:16:39.458 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:16:39.459 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:16:39.465 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@41eb94bc
02-11-2018 17:16:39.468 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:16:39.469 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:16:39.469 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:16:39.500 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@671a5887: startup date [Fri Nov 02 17:16:35 EET 2018]; root of context hierarchy
02-11-2018 17:16:39.508 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 17:17:00.305 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 17:17:00.340 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6cc7b4de, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@32cf48b7, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@679b62af, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5cdd8682, org.springframework.test.context.transaction.TransactionalTestExecutionListener@d6da883, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@45afc369]
02-11-2018 17:17:01.115 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 17:17:01.357 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 17:17:01.903 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@7ee8290b: startup date [Fri Nov 02 17:17:01 EET 2018]; root of context hierarchy
02-11-2018 17:17:02.228 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 17:17:02.231 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 17:17:02.777 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 17:17:03.114 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 17:17:03.153 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 38 ms.
02-11-2018 17:17:03.154 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 17:17:03.416 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 262 ms.
02-11-2018 17:17:03.499 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 17:17:03.514 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 14 ms
02-11-2018 17:17:03.517 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 17:17:03.711 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 17:17:04.701 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 17:17:04.980 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 17:17:04.984 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:17:04.984 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:17:04.985 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:17:04.986 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:17:04.987 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 17:17:04.988 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 17:17:04.989 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 17:17:48.688 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 17:17:48.714 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6cc7b4de, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@32cf48b7, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@679b62af, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5cdd8682, org.springframework.test.context.transaction.TransactionalTestExecutionListener@d6da883, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@45afc369]
02-11-2018 17:17:49.337 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 17:17:49.581 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 17:17:50.134 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@7ee8290b: startup date [Fri Nov 02 17:17:50 EET 2018]; root of context hierarchy
02-11-2018 17:17:50.391 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 17:17:50.392 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 17:17:50.803 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 17:17:51.041 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 17:17:51.072 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 30 ms.
02-11-2018 17:17:51.073 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 17:17:51.405 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 332 ms.
02-11-2018 17:17:51.490 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 17:17:51.506 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 15 ms
02-11-2018 17:17:51.510 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 17:17:51.771 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 17:17:52.711 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 17:17:52.994 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 17:17:52.999 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:17:53.000 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:17:53.001 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:17:53.002 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:17:53.004 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 17:17:53.006 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 17:17:53.007 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 17:17:53.107 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@7ee8290b: startup date [Fri Nov 02 17:17:50 EET 2018]; root of context hierarchy
02-11-2018 17:17:53.523 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:17:53.524 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:17:53.525 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:17:53.525 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:17:53.532 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@48535004
02-11-2018 17:17:53.545 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:17:53.545 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:17:53.546 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 17:17:53.665 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getAll - Start processing query to get all movies
02-11-2018 17:17:53.677 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getAll - Finish processing query to get all movies. It took 11 ms
02-11-2018 17:17:53.677 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]
02-11-2018 17:17:53.701 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]. It took 23 ms
02-11-2018 17:17:53.701 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]
02-11-2018 17:17:53.707 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]. It took 4 ms
02-11-2018 17:17:53.897 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:17:53.898 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:17:53.899 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:17:53.900 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:17:53.908 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@64968732
02-11-2018 17:17:53.912 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:17:53.913 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:17:53.913 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:17:53.916 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getThreeRandomMovie - Start processing query to get 3 random movies
02-11-2018 17:17:53.931 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getThreeRandomMovie - Finish processing query to get 3 random movies. It took 15 ms
02-11-2018 17:17:53.932 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [8, 6, 16]
02-11-2018 17:17:53.934 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [8, 6, 16]. It took 2 ms
02-11-2018 17:17:53.935 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [8, 6, 16]
02-11-2018 17:17:53.937 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [8, 6, 16]. It took 1 ms
02-11-2018 17:17:53.954 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:17:53.955 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:17:53.956 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:17:53.956 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:17:53.963 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@35cd68d4
02-11-2018 17:17:53.966 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:17:53.966 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:17:53.966 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:17:53.975 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getMoviesIdsByGenreId - Start processing query to get movieIds by genreId
02-11-2018 17:17:53.980 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getMoviesIdsByGenreId - Finish processing query to get movieIds by genreId. It took 5 ms
02-11-2018 17:17:53.981 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]
02-11-2018 17:17:53.987 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]. It took 6 ms
02-11-2018 17:17:53.988 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]
02-11-2018 17:17:53.992 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]. It took 3 ms
02-11-2018 17:17:53.993 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]
02-11-2018 17:17:53.996 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]. It took 3 ms
02-11-2018 17:17:54.021 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:17:54.022 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:17:54.023 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:17:54.023 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:17:54.032 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@69228e85
02-11-2018 17:17:54.036 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:17:54.037 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:17:54.037 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:17:54.041 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1]
02-11-2018 17:17:54.044 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1]. It took 2 ms
02-11-2018 17:17:54.045 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1]
02-11-2018 17:17:54.047 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1]. It took 2 ms
02-11-2018 17:17:54.047 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1]
02-11-2018 17:17:54.049 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1]. It took 1 ms
02-11-2018 17:17:54.050 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Start processing query to get reviews with moviesId: 1
02-11-2018 17:17:54.053 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Finish processing query to get reviews with moviesId: 1. It took 1 ms
02-11-2018 17:17:54.053 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUsersByIds - Start processing query to get users with userIds: [2, 3]
02-11-2018 17:17:54.065 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
02-11-2018 17:17:54.122 [main] INFO     o.s.j.support.SQLErrorCodesFactory.<init> - SQLErrorCodes loaded: [DB2, Derby, H2, HDB, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase]
02-11-2018 17:17:54.146 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@7ee8290b: startup date [Fri Nov 02 17:17:50 EET 2018]; root of context hierarchy
02-11-2018 17:17:54.155 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 17:18:40.581 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 17:18:40.622 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7a35b0f5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5e2c3d18, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2cb4893b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@cc43f62, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5b218417, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@645aa696]
02-11-2018 17:18:41.467 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 17:18:41.774 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 17:18:42.176 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@7a1a3478: startup date [Fri Nov 02 17:18:42 EET 2018]; root of context hierarchy
02-11-2018 17:18:42.458 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 17:18:42.459 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 17:18:42.937 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 17:18:43.131 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 17:18:43.165 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 33 ms.
02-11-2018 17:18:43.166 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 17:18:43.391 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 225 ms.
02-11-2018 17:18:43.489 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 17:18:43.508 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 18 ms
02-11-2018 17:18:43.511 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 17:18:43.812 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 17:18:44.838 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 17:18:45.231 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 17:18:45.236 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:18:45.237 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:18:45.239 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:18:45.240 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:18:45.242 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 17:18:45.243 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 17:18:45.245 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 17:18:45.373 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@7a1a3478: startup date [Fri Nov 02 17:18:42 EET 2018]; root of context hierarchy
02-11-2018 17:18:45.859 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:18:45.860 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:18:45.861 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:18:45.862 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:18:45.872 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@36bed37a
02-11-2018 17:18:45.895 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:18:45.895 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:18:45.897 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 17:18:46.058 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getAll - Start processing query to get all movies
02-11-2018 17:18:46.068 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getAll - Finish processing query to get all movies. It took 10 ms
02-11-2018 17:18:46.069 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]
02-11-2018 17:18:46.095 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]. It took 26 ms
02-11-2018 17:18:46.096 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]
02-11-2018 17:18:46.101 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]. It took 4 ms
02-11-2018 17:18:46.359 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:18:46.361 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:18:46.362 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:18:46.363 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:18:46.372 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@16cf8438
02-11-2018 17:18:46.376 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:18:46.377 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:18:46.378 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:18:46.380 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getThreeRandomMovie - Start processing query to get 3 random movies
02-11-2018 17:18:46.396 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getThreeRandomMovie - Finish processing query to get 3 random movies. It took 15 ms
02-11-2018 17:18:46.397 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [12, 4, 23]
02-11-2018 17:18:46.399 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [12, 4, 23]. It took 2 ms
02-11-2018 17:18:46.400 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [12, 4, 23]
02-11-2018 17:18:46.402 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [12, 4, 23]. It took 2 ms
02-11-2018 17:18:46.416 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:18:46.417 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:18:46.418 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:18:46.418 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:18:46.426 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@7ccd611e
02-11-2018 17:18:46.429 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:18:46.430 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:18:46.430 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:18:46.440 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getMoviesIdsByGenreId - Start processing query to get movieIds by genreId
02-11-2018 17:18:46.447 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getMoviesIdsByGenreId - Finish processing query to get movieIds by genreId. It took 7 ms
02-11-2018 17:18:46.447 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]
02-11-2018 17:18:46.453 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]. It took 5 ms
02-11-2018 17:18:46.454 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]
02-11-2018 17:18:46.458 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]. It took 4 ms
02-11-2018 17:18:46.459 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]
02-11-2018 17:18:46.462 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]. It took 3 ms
02-11-2018 17:18:46.485 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:18:46.486 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:18:46.486 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:18:46.487 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:18:46.496 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@3dfd6220
02-11-2018 17:18:46.500 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:18:46.500 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:18:46.501 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:18:46.505 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1]
02-11-2018 17:18:46.507 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1]. It took 1 ms
02-11-2018 17:18:46.508 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1]
02-11-2018 17:18:46.511 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1]. It took 2 ms
02-11-2018 17:18:46.512 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1]
02-11-2018 17:18:46.513 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1]. It took 1 ms
02-11-2018 17:18:46.514 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Start processing query to get reviews with moviesId: 1
02-11-2018 17:18:46.517 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Finish processing query to get reviews with moviesId: 1. It took 1 ms
02-11-2018 17:18:46.517 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUsersByIds - Start processing query to get users with userIds: [2, 3]
02-11-2018 17:19:21.287 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
02-11-2018 17:19:21.563 [main] INFO     o.s.j.support.SQLErrorCodesFactory.<init> - SQLErrorCodes loaded: [DB2, Derby, H2, HDB, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase]
02-11-2018 17:19:26.131 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@7a1a3478: startup date [Fri Nov 02 17:18:42 EET 2018]; root of context hierarchy
02-11-2018 17:19:26.138 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 17:21:43.391 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 17:21:43.462 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7a35b0f5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5e2c3d18, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2cb4893b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@cc43f62, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5b218417, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@645aa696]
02-11-2018 17:21:44.311 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 17:21:44.573 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 17:21:45.029 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@7a1a3478: startup date [Fri Nov 02 17:21:45 EET 2018]; root of context hierarchy
02-11-2018 17:21:45.311 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 17:21:45.312 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 17:21:45.876 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 17:21:46.076 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 17:21:46.117 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 41 ms.
02-11-2018 17:21:46.118 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 17:21:46.370 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 252 ms.
02-11-2018 17:21:46.468 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 17:21:46.483 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 14 ms
02-11-2018 17:21:46.486 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 17:21:46.801 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 17:21:47.846 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 17:21:48.246 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 17:21:48.251 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:21:48.253 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:21:48.254 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:21:48.255 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:21:48.257 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 17:21:48.259 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 17:21:48.260 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 17:21:48.392 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@7a1a3478: startup date [Fri Nov 02 17:21:45 EET 2018]; root of context hierarchy
02-11-2018 17:21:48.856 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:21:48.857 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:21:48.858 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:21:48.859 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:21:48.869 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@4a9a878
02-11-2018 17:21:48.887 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:21:48.888 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:21:48.890 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 2 ms
02-11-2018 17:21:49.031 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getAll - Start processing query to get all movies
02-11-2018 17:21:49.042 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getAll - Finish processing query to get all movies. It took 10 ms
02-11-2018 17:21:49.042 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]
02-11-2018 17:21:49.068 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]. It took 25 ms
02-11-2018 17:21:49.069 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]
02-11-2018 17:21:49.074 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]. It took 4 ms
02-11-2018 17:21:49.330 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:21:49.331 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:21:49.332 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:21:49.333 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:21:49.342 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@33ec2c0c
02-11-2018 17:21:49.346 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:21:49.347 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:21:49.347 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:21:49.349 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getThreeRandomMovie - Start processing query to get 3 random movies
02-11-2018 17:21:49.361 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getThreeRandomMovie - Finish processing query to get 3 random movies. It took 12 ms
02-11-2018 17:21:49.362 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [7, 22, 16]
02-11-2018 17:21:49.365 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [7, 22, 16]. It took 2 ms
02-11-2018 17:21:49.365 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [7, 22, 16]
02-11-2018 17:21:49.367 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [7, 22, 16]. It took 1 ms
02-11-2018 17:21:49.384 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:21:49.385 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:21:49.386 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:21:49.389 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:21:49.398 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@119290b9
02-11-2018 17:21:49.402 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:21:49.403 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:21:49.404 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 17:21:49.414 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getMoviesIdsByGenreId - Start processing query to get movieIds by genreId
02-11-2018 17:21:49.420 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getMoviesIdsByGenreId - Finish processing query to get movieIds by genreId. It took 6 ms
02-11-2018 17:21:49.421 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]
02-11-2018 17:21:49.432 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]. It took 11 ms
02-11-2018 17:21:49.432 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]
02-11-2018 17:21:49.436 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]. It took 3 ms
02-11-2018 17:21:49.437 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]
02-11-2018 17:21:49.440 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]. It took 2 ms
02-11-2018 17:21:49.465 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:21:49.466 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:21:49.467 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:21:49.468 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:21:49.478 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@27a9f025
02-11-2018 17:21:49.481 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:21:49.482 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:21:49.482 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:21:49.486 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1]
02-11-2018 17:21:49.488 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1]. It took 1 ms
02-11-2018 17:21:49.489 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1]
02-11-2018 17:21:49.491 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1]. It took 1 ms
02-11-2018 17:21:49.492 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1]
02-11-2018 17:21:49.493 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1]. It took 1 ms
02-11-2018 17:21:49.494 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Start processing query to get reviews with moviesId: 1
02-11-2018 17:21:49.497 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Finish processing query to get reviews with moviesId: 1. It took 2 ms
02-11-2018 17:21:49.497 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUsersByIds - Start processing query to get users with userIds: [2, 3]
02-11-2018 17:28:04.042 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
02-11-2018 17:28:04.085 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@7a1a3478: startup date [Fri Nov 02 17:21:45 EET 2018]; root of context hierarchy
02-11-2018 17:28:04.102 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 17:32:48.034 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 17:32:48.063 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@33cb5951, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@365c30cc, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@701fc37a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4148db48, org.springframework.test.context.transaction.TransactionalTestExecutionListener@282003e1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7fad8c79]
02-11-2018 17:32:49.042 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 17:32:49.349 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 17:32:49.900 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@c86b9e3: startup date [Fri Nov 02 17:32:49 EET 2018]; root of context hierarchy
02-11-2018 17:32:50.263 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 17:32:50.265 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 17:32:50.743 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 17:32:50.916 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 17:32:50.947 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 30 ms.
02-11-2018 17:32:50.947 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 17:32:51.206 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 258 ms.
02-11-2018 17:32:51.297 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 17:32:51.313 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 15 ms
02-11-2018 17:32:51.316 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 17:32:51.580 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 17:32:53.226 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 17:32:53.600 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 17:32:53.604 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:32:53.605 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:32:53.606 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:32:53.607 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:32:53.609 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 17:32:53.611 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 17:32:53.612 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 17:32:53.711 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@c86b9e3: startup date [Fri Nov 02 17:32:49 EET 2018]; root of context hierarchy
02-11-2018 17:32:54.223 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:32:54.224 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:32:54.225 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:32:54.225 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:32:54.233 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@1cc9cfb2
02-11-2018 17:32:54.245 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:32:54.246 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:32:54.247 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 17:32:54.375 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1]
02-11-2018 17:32:54.393 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1]. It took 17 ms
02-11-2018 17:32:54.394 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1]
02-11-2018 17:32:54.397 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1]. It took 3 ms
02-11-2018 17:32:54.398 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1]
02-11-2018 17:32:54.400 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1]. It took 2 ms
02-11-2018 17:32:54.401 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Start processing query to get reviews with moviesId: 1
02-11-2018 17:32:54.404 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Finish processing query to get reviews with moviesId: 1. It took 3 ms
02-11-2018 17:32:54.405 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUsersByIds - Start processing query to get users with userIds: [2, 3]
02-11-2018 17:32:54.416 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
02-11-2018 17:32:54.481 [main] INFO     o.s.j.support.SQLErrorCodesFactory.<init> - SQLErrorCodes loaded: [DB2, Derby, H2, HDB, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase]
02-11-2018 17:32:54.522 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@c86b9e3: startup date [Fri Nov 02 17:32:49 EET 2018]; root of context hierarchy
02-11-2018 17:32:54.541 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 17:35:53.335 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 17:35:53.366 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@645aa696, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6caf0677, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@413d1baf, org.springframework.test.context.support.DirtiesContextTestExecutionListener@16eb3ea3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@273444fe, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@33bc72d1]
02-11-2018 17:35:54.060 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 17:35:54.281 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 17:35:54.554 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@66565121: startup date [Fri Nov 02 17:35:54 EET 2018]; root of context hierarchy
02-11-2018 17:35:54.795 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 17:35:54.796 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 17:35:55.215 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 17:35:55.430 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 17:35:55.461 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 31 ms.
02-11-2018 17:35:55.462 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 17:35:55.695 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 233 ms.
02-11-2018 17:35:55.798 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 17:35:55.815 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 16 ms
02-11-2018 17:35:55.818 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 17:35:56.180 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 17:35:57.229 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 17:35:57.607 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 17:35:57.613 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:35:57.614 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:35:57.615 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:35:57.616 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:35:57.618 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 17:35:57.620 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 17:35:57.621 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 17:35:57.744 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@66565121: startup date [Fri Nov 02 17:35:54 EET 2018]; root of context hierarchy
02-11-2018 17:35:58.277 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:35:58.278 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:35:58.279 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:35:58.279 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:35:58.301 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@2efd2f21
02-11-2018 17:35:58.332 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:35:58.334 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:35:58.336 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 17:35:58.478 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1]
02-11-2018 17:35:58.497 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1]. It took 19 ms
02-11-2018 17:35:58.498 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1]
02-11-2018 17:35:58.502 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1]. It took 4 ms
02-11-2018 17:35:58.503 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1]
02-11-2018 17:35:58.505 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1]. It took 2 ms
02-11-2018 17:35:58.506 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Start processing query to get reviews with moviesId: 1
02-11-2018 17:35:58.510 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Finish processing query to get reviews with moviesId: 1. It took 4 ms
02-11-2018 17:35:58.511 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUsersByIds - Start processing query to get users with userIds: [2, 3]
02-11-2018 17:36:35.495 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
02-11-2018 17:36:36.039 [main] INFO     o.s.j.support.SQLErrorCodesFactory.<init> - SQLErrorCodes loaded: [DB2, Derby, H2, HDB, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase]
02-11-2018 17:37:07.144 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@66565121: startup date [Fri Nov 02 17:35:54 EET 2018]; root of context hierarchy
02-11-2018 17:37:07.153 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 17:40:24.701 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 17:40:24.752 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@645aa696, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6caf0677, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@413d1baf, org.springframework.test.context.support.DirtiesContextTestExecutionListener@16eb3ea3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@273444fe, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@33bc72d1]
02-11-2018 17:40:25.711 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 17:40:26.041 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 17:40:26.528 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@623e088f: startup date [Fri Nov 02 17:40:26 EET 2018]; root of context hierarchy
02-11-2018 17:40:26.794 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 17:40:26.796 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 17:40:27.349 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 17:40:27.610 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 17:40:27.646 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 35 ms.
02-11-2018 17:40:27.647 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 17:40:27.901 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 254 ms.
02-11-2018 17:40:27.993 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 17:40:28.008 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 14 ms
02-11-2018 17:40:28.011 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 17:40:28.294 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 17:40:29.288 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 17:40:29.644 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 17:40:29.650 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:40:29.651 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:40:29.652 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:40:29.653 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:40:29.655 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 17:40:29.656 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 17:40:29.657 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 17:40:29.770 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@623e088f: startup date [Fri Nov 02 17:40:26 EET 2018]; root of context hierarchy
02-11-2018 17:40:30.271 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:40:30.272 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:40:30.273 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:40:30.273 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:40:30.283 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@316cda31
02-11-2018 17:40:30.299 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:40:30.300 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:40:30.301 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 17:40:30.463 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1]
02-11-2018 17:40:30.485 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1]. It took 21 ms
02-11-2018 17:40:30.486 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1]
02-11-2018 17:40:30.491 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1]. It took 4 ms
02-11-2018 17:40:30.491 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1]
02-11-2018 17:40:30.494 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1]. It took 2 ms
02-11-2018 17:40:30.495 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Start processing query to get reviews with moviesId: 1
02-11-2018 17:40:30.500 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Finish processing query to get reviews with moviesId: 1. It took 5 ms
02-11-2018 17:40:30.501 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUsersByIds - Start processing query to get users with userIds: [2, 3]
02-11-2018 17:40:49.936 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
02-11-2018 17:40:50.136 [main] INFO     o.s.j.support.SQLErrorCodesFactory.<init> - SQLErrorCodes loaded: [DB2, Derby, H2, HDB, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase]
02-11-2018 17:40:50.219 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@623e088f: startup date [Fri Nov 02 17:40:26 EET 2018]; root of context hierarchy
02-11-2018 17:40:50.234 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 17:46:18.329 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 17:46:18.358 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@645aa696, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6caf0677, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@413d1baf, org.springframework.test.context.support.DirtiesContextTestExecutionListener@16eb3ea3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@273444fe, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@33bc72d1]
02-11-2018 17:46:19.277 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 17:46:19.568 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 17:46:20.055 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@66565121: startup date [Fri Nov 02 17:46:20 EET 2018]; root of context hierarchy
02-11-2018 17:46:20.399 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 17:46:20.400 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 17:46:21.040 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 17:46:21.229 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 17:46:21.260 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 30 ms.
02-11-2018 17:46:21.261 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 17:46:21.281 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 17:46:21.284 [main] WARN     o.s.w.c.s.GenericWebApplicationContext.refresh - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/data.sql]: INSERT INTO users (role_name, nickname, email, password) VALUES ('ADMIN', 'Рональд Рейнольдс', 'ronald.reynolds66@example.com', 'paco'); nested exception is org.h2.jdbc.JdbcSQLException: Data conversion error converting "'ADMIN' (USERS: ROLE_NAME SMALLINT NOT NULL)"; SQL statement:
INSERT INTO users (role_name, nickname, email, password) VALUES ('ADMIN', 'Рональд Рейнольдс', 'ronald.reynolds66@example.com', 'paco') -- ('ADMIN', STRINGDECODE('\u0420\u043e\u043d\u0430\u043b\u044c\u0434 \u0420\u0435\u0439\u043d\u043e\u043b\u044c\u0434\u0441'), 'ronald.reynolds66@example.com', 'paco') [22018-197]
02-11-2018 17:46:21.292 [main] ERROR    o.s.test.context.TestContextManager.prepareTestInstance - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@645aa696] to prepare test instance [null(com.gordeev.movieland.controller.MovieControllerTest)]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/data.sql]: INSERT INTO users (role_name, nickname, email, password) VALUES ('ADMIN', 'Рональд Рейнольдс', 'ronald.reynolds66@example.com', 'paco'); nested exception is org.h2.jdbc.JdbcSQLException: Data conversion error converting "'ADMIN' (USERS: ROLE_NAME SMALLINT NOT NULL)"; SQL statement:
INSERT INTO users (role_name, nickname, email, password) VALUES ('ADMIN', 'Рональд Рейнольдс', 'ronald.reynolds66@example.com', 'paco') -- ('ADMIN', STRINGDECODE('\u0420\u043e\u043d\u0430\u043b\u044c\u0434 \u0420\u0435\u0439\u043d\u043e\u043b\u044c\u0434\u0441'), 'ronald.reynolds66@example.com', 'paco') [22018-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1706)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:579)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:741)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.test.context.web.AbstractGenericWebContextLoader.loadContext(AbstractGenericWebContextLoader.java:129)
	at org.springframework.test.context.web.AbstractGenericWebContextLoader.loadContext(AbstractGenericWebContextLoader.java:61)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:107)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:243)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	... 24 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/data.sql]: INSERT INTO users (role_name, nickname, email, password) VALUES ('ADMIN', 'Рональд Рейнольдс', 'ronald.reynolds66@example.com', 'paco'); nested exception is org.h2.jdbc.JdbcSQLException: Data conversion error converting "'ADMIN' (USERS: ROLE_NAME SMALLINT NOT NULL)"; SQL statement:
INSERT INTO users (role_name, nickname, email, password) VALUES ('ADMIN', 'Рональд Рейнольдс', 'ronald.reynolds66@example.com', 'paco') -- ('ADMIN', STRINGDECODE('\u0420\u043e\u043d\u0430\u043b\u044c\u0434 \u0420\u0435\u0439\u043d\u043e\u043b\u044c\u0434\u0441'), 'ronald.reynolds66@example.com', 'paco') [22018-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:240)
	at org.springframework.jdbc.datasource.init.CompositeDatabasePopulator.populate(CompositeDatabasePopulator.java:87)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory.initDatabase(EmbeddedDatabaseFactory.java:200)
	at org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactoryBean.afterPropertiesSet(EmbeddedDatabaseFactoryBean.java:64)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1765)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1702)
	... 39 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Data conversion error converting "'ADMIN' (USERS: ROLE_NAME SMALLINT NOT NULL)"; SQL statement:
INSERT INTO users (role_name, nickname, email, password) VALUES ('ADMIN', 'Рональд Рейнольдс', 'ronald.reynolds66@example.com', 'paco') -- ('ADMIN', STRINGDECODE('\u0420\u043e\u043d\u0430\u043b\u044c\u0434 \u0420\u0435\u0439\u043d\u043e\u043b\u044c\u0434\u0441'), 'ronald.reynolds66@example.com', 'paco') [22018-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:168)
	at org.h2.table.Column.convert(Column.java:182)
	at org.h2.command.dml.Insert.insertRows(Insert.java:166)
	at org.h2.command.dml.Insert.update(Insert.java:134)
	at org.h2.command.CommandContainer.update(CommandContainer.java:102)
	at org.h2.command.Command.executeUpdate(Command.java:261)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:233)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 46 common frames omitted
Caused by: org.h2.message.DbException: Data conversion error converting "ADMIN" [22018-197]
	at org.h2.message.DbException.get(DbException.java:168)
	at org.h2.value.Value.convertTo(Value.java:1116)
	at org.h2.table.Column.convert(Column.java:177)
	... 53 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Data conversion error converting "ADMIN" [22018-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	... 56 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "ADMIN"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.lang.Integer.parseInt(Integer.java:580)
	at java.lang.Short.parseShort(Short.java:118)
	at java.lang.Short.parseShort(Short.java:144)
	at org.h2.value.Value.convertTo(Value.java:1059)
	... 54 common frames omitted
02-11-2018 17:47:56.373 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 17:47:56.443 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@645aa696, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6caf0677, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@413d1baf, org.springframework.test.context.support.DirtiesContextTestExecutionListener@16eb3ea3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@273444fe, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@33bc72d1]
02-11-2018 17:47:57.189 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 17:47:57.359 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 17:47:57.592 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@7cf6a5f9: startup date [Fri Nov 02 17:47:57 EET 2018]; root of context hierarchy
02-11-2018 17:47:57.777 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 17:47:57.778 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 17:47:58.145 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 17:47:58.344 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 17:47:58.379 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 35 ms.
02-11-2018 17:47:58.379 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 17:47:58.609 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 229 ms.
02-11-2018 17:47:58.711 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 17:47:58.727 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 16 ms
02-11-2018 17:47:58.730 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 17:47:59.015 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 17:47:59.984 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 17:48:00.410 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 17:48:00.417 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:48:00.419 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:48:00.420 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:48:00.422 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:48:00.424 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 17:48:00.426 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 17:48:00.427 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 17:48:00.580 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@7cf6a5f9: startup date [Fri Nov 02 17:47:57 EET 2018]; root of context hierarchy
02-11-2018 17:48:01.084 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:48:01.085 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:48:01.085 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:48:01.086 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:48:01.098 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@6ad179b4
02-11-2018 17:48:01.120 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:48:01.120 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:48:01.122 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 17:48:01.263 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1]
02-11-2018 17:48:01.280 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1]. It took 17 ms
02-11-2018 17:48:01.280 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1]
02-11-2018 17:48:01.284 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1]. It took 3 ms
02-11-2018 17:48:01.285 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1]
02-11-2018 17:48:01.287 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1]. It took 2 ms
02-11-2018 17:48:01.288 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Start processing query to get reviews with moviesId: 1
02-11-2018 17:48:01.292 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Finish processing query to get reviews with moviesId: 1. It took 4 ms
02-11-2018 17:48:01.293 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUsersByIds - Start processing query to get users with userIds: [2, 3]
02-11-2018 17:48:14.316 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUsersByIds - Finish processing query to get users with userIds: [2, 3]. It took 13023 ms
02-11-2018 17:48:14.499 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@7cf6a5f9: startup date [Fri Nov 02 17:47:57 EET 2018]; root of context hierarchy
02-11-2018 17:48:14.504 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 17:48:44.799 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 17:48:44.841 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@799d4f69, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@49c43f4e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@290dbf45, org.springframework.test.context.support.DirtiesContextTestExecutionListener@12028586, org.springframework.test.context.transaction.TransactionalTestExecutionListener@17776a8, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@69a10787]
02-11-2018 17:48:44.857 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 17:48:44.858 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2bbaf4f0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@11c20519, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@70beb599, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4e41089d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@32a068d1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@33cb5951]
02-11-2018 17:48:44.873 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 17:48:44.877 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3444d69d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1372ed45, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6a79c292, org.springframework.test.context.support.DirtiesContextTestExecutionListener@37574691, org.springframework.test.context.transaction.TransactionalTestExecutionListener@25359ed8, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@21a947fe]
02-11-2018 17:48:44.883 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 17:48:44.889 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@80ec1f8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1445d7f, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6a396c1e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6c3f5566, org.springframework.test.context.transaction.TransactionalTestExecutionListener@12405818, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@314c508a]
02-11-2018 17:48:45.715 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 17:48:45.908 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 17:48:46.211 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@623a8092: startup date [Fri Nov 02 17:48:46 EET 2018]; root of context hierarchy
02-11-2018 17:48:46.406 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 17:48:46.409 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 17:48:46.762 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 17:48:46.936 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 17:48:46.968 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 31 ms.
02-11-2018 17:48:46.968 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 17:48:47.185 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 216 ms.
02-11-2018 17:48:47.268 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 17:48:47.285 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 16 ms
02-11-2018 17:48:47.288 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 17:48:47.596 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 17:48:48.571 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 17:48:48.906 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 17:48:48.910 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:48:48.911 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:48:48.912 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:48:48.913 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:48:48.923 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 17:48:48.925 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 17:48:48.927 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 17:48:49.045 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@623a8092: startup date [Fri Nov 02 17:48:46 EET 2018]; root of context hierarchy
02-11-2018 17:48:49.467 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 17:48:49.474 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@7ce9e05a
02-11-2018 17:48:49.486 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:48:49.487 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:48:49.488 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 17:48:49.560 [main] INFO     c.g.movieland.dao.cache.GenreCache.getAll - Get all genres from cache
02-11-2018 17:48:49.730 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:48:49.731 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:48:49.732 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:48:49.733 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:48:49.743 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@188b6035
02-11-2018 17:48:49.746 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:48:49.747 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:48:49.748 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:48:49.809 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getAll - Start processing query to get all movies
02-11-2018 17:48:49.821 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getAll - Finish processing query to get all movies. It took 12 ms
02-11-2018 17:48:49.821 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]
02-11-2018 17:48:49.845 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]. It took 23 ms
02-11-2018 17:48:49.846 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]
02-11-2018 17:48:49.851 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]. It took 5 ms
02-11-2018 17:48:49.945 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:48:49.945 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:48:49.946 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:48:49.947 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:48:49.958 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@260ff5b7
02-11-2018 17:48:49.965 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:48:49.966 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:48:49.966 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:48:49.968 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getThreeRandomMovie - Start processing query to get 3 random movies
02-11-2018 17:48:49.982 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getThreeRandomMovie - Finish processing query to get 3 random movies. It took 13 ms
02-11-2018 17:48:49.983 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [20, 8, 11]
02-11-2018 17:48:49.985 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [20, 8, 11]. It took 2 ms
02-11-2018 17:48:49.985 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [20, 8, 11]
02-11-2018 17:48:49.987 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [20, 8, 11]. It took 1 ms
02-11-2018 17:48:50.006 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:48:50.007 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:48:50.007 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:48:50.008 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:48:50.022 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@5853495b
02-11-2018 17:48:50.033 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:48:50.033 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:48:50.033 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:48:50.043 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getMoviesIdsByGenreId - Start processing query to get movieIds by genreId
02-11-2018 17:48:50.048 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getMoviesIdsByGenreId - Finish processing query to get movieIds by genreId. It took 5 ms
02-11-2018 17:48:50.049 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]
02-11-2018 17:48:50.055 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]. It took 5 ms
02-11-2018 17:48:50.055 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]
02-11-2018 17:48:50.060 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]. It took 4 ms
02-11-2018 17:48:50.060 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]
02-11-2018 17:48:50.063 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]. It took 2 ms
02-11-2018 17:48:50.091 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:48:50.092 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:48:50.093 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:48:50.093 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:48:50.101 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@102efc59
02-11-2018 17:48:50.104 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:48:50.110 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:48:50.111 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:48:50.114 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1]
02-11-2018 17:48:50.117 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1]. It took 2 ms
02-11-2018 17:48:50.118 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1]
02-11-2018 17:48:50.120 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1]. It took 2 ms
02-11-2018 17:48:50.120 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1]
02-11-2018 17:48:50.122 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1]. It took 1 ms
02-11-2018 17:48:50.123 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Start processing query to get reviews with moviesId: 1
02-11-2018 17:48:50.125 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Finish processing query to get reviews with moviesId: 1. It took 2 ms
02-11-2018 17:48:50.125 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUsersByIds - Start processing query to get users with userIds: [2, 3]
02-11-2018 17:48:50.128 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUsersByIds - Finish processing query to get users with userIds: [2, 3]. It took 2 ms
02-11-2018 17:48:50.274 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 17:48:50.285 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@3f702946
02-11-2018 17:48:50.290 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:48:50.295 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:48:50.298 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:48:50.313 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:48:50.314 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:48:50.315 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:48:50.319 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:48:50.330 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@14b7786
02-11-2018 17:48:50.335 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:48:50.336 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:48:50.336 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:48:50.425 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 17:48:50.425 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 17:48:50.434 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@4d3ca6c7
02-11-2018 17:48:50.437 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:48:50.438 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:48:50.438 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:48:50.446 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUserByEmail - Finish processing query to get user by email. It took 2 ms
02-11-2018 17:48:50.448 [main] INFO     c.g.m.controller.SecurityController.login - User with uuid = a2d97273-f9d0-408f-a2d4-15ec8c8a7f25 successfully logged in
02-11-2018 17:48:50.459 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 17:48:50.460 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 17:48:50.468 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@14fa92af
02-11-2018 17:48:50.471 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:48:50.472 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:48:50.472 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:48:50.490 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@623a8092: startup date [Fri Nov 02 17:48:46 EET 2018]; root of context hierarchy
02-11-2018 17:48:50.507 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 17:50:55.684 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 17:50:55.718 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@799d4f69, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@49c43f4e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@290dbf45, org.springframework.test.context.support.DirtiesContextTestExecutionListener@12028586, org.springframework.test.context.transaction.TransactionalTestExecutionListener@17776a8, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@69a10787]
02-11-2018 17:50:55.743 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 17:50:55.744 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2bbaf4f0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@11c20519, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@70beb599, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4e41089d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@32a068d1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@33cb5951]
02-11-2018 17:50:55.767 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 17:50:55.768 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3444d69d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1372ed45, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6a79c292, org.springframework.test.context.support.DirtiesContextTestExecutionListener@37574691, org.springframework.test.context.transaction.TransactionalTestExecutionListener@25359ed8, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@21a947fe]
02-11-2018 17:50:55.774 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 17:50:55.776 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@80ec1f8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1445d7f, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6a396c1e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6c3f5566, org.springframework.test.context.transaction.TransactionalTestExecutionListener@12405818, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@314c508a]
02-11-2018 17:50:56.440 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 17:50:56.699 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 17:50:57.096 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@623a8092: startup date [Fri Nov 02 17:50:57 EET 2018]; root of context hierarchy
02-11-2018 17:50:57.318 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 17:50:57.319 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 17:50:57.712 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 17:50:57.917 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 17:50:57.951 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 33 ms.
02-11-2018 17:50:57.952 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 17:50:58.222 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 270 ms.
02-11-2018 17:50:58.301 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 17:50:58.311 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 9 ms
02-11-2018 17:50:58.313 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 17:50:58.539 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 17:50:59.458 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 17:50:59.781 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 17:50:59.785 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:50:59.786 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:50:59.787 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:50:59.788 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:50:59.789 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 17:50:59.791 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 17:50:59.792 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 17:50:59.903 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@623a8092: startup date [Fri Nov 02 17:50:57 EET 2018]; root of context hierarchy
02-11-2018 17:51:00.328 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 17:51:00.335 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@7ce9e05a
02-11-2018 17:51:00.350 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:51:00.350 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:51:00.351 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:51:00.425 [main] INFO     c.g.movieland.dao.cache.GenreCache.getAll - Get all genres from cache
02-11-2018 17:51:00.597 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:51:00.598 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:51:00.599 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:51:00.600 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:51:00.609 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@188b6035
02-11-2018 17:51:00.614 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:51:00.614 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:51:00.615 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:51:00.666 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getAll - Start processing query to get all movies
02-11-2018 17:51:00.676 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getAll - Finish processing query to get all movies. It took 10 ms
02-11-2018 17:51:00.676 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]
02-11-2018 17:51:00.697 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]. It took 20 ms
02-11-2018 17:51:00.698 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]
02-11-2018 17:51:00.704 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]. It took 5 ms
02-11-2018 17:51:00.784 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:51:00.785 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:51:00.786 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:51:00.787 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:51:00.794 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@260ff5b7
02-11-2018 17:51:00.802 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:51:00.802 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:51:00.803 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:51:00.805 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getThreeRandomMovie - Start processing query to get 3 random movies
02-11-2018 17:51:00.819 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getThreeRandomMovie - Finish processing query to get 3 random movies. It took 14 ms
02-11-2018 17:51:00.819 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [12, 16, 21]
02-11-2018 17:51:00.822 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [12, 16, 21]. It took 2 ms
02-11-2018 17:51:00.823 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [12, 16, 21]
02-11-2018 17:51:00.825 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [12, 16, 21]. It took 2 ms
02-11-2018 17:51:00.846 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:51:00.846 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:51:00.847 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:51:00.848 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:51:00.854 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@5853495b
02-11-2018 17:51:00.858 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:51:00.858 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:51:00.859 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 17:51:00.867 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getMoviesIdsByGenreId - Start processing query to get movieIds by genreId
02-11-2018 17:51:00.873 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getMoviesIdsByGenreId - Finish processing query to get movieIds by genreId. It took 5 ms
02-11-2018 17:51:00.874 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]
02-11-2018 17:51:00.880 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]. It took 6 ms
02-11-2018 17:51:00.881 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]
02-11-2018 17:51:00.884 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]. It took 3 ms
02-11-2018 17:51:00.885 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]
02-11-2018 17:51:00.887 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]. It took 2 ms
02-11-2018 17:51:00.913 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:51:00.914 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:51:00.915 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:51:00.915 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:51:00.923 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@102efc59
02-11-2018 17:51:00.927 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:51:00.927 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:51:00.928 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:51:00.931 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1]
02-11-2018 17:51:00.934 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1]. It took 2 ms
02-11-2018 17:51:00.934 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1]
02-11-2018 17:51:00.936 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1]. It took 1 ms
02-11-2018 17:51:00.937 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1]
02-11-2018 17:51:00.939 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1]. It took 1 ms
02-11-2018 17:51:00.940 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Start processing query to get reviews with moviesId: 1
02-11-2018 17:51:00.943 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Finish processing query to get reviews with moviesId: 1. It took 2 ms
02-11-2018 17:51:00.944 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUsersByIds - Start processing query to get users with userIds: [2, 3]
02-11-2018 17:51:00.947 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUsersByIds - Finish processing query to get users with userIds: [2, 3]. It took 3 ms
02-11-2018 17:51:01.022 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 17:51:01.032 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@3f702946
02-11-2018 17:51:01.036 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:51:01.036 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:51:01.037 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:51:01.040 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 17:51:01.041 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 17:51:01.042 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 17:51:01.043 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 17:51:01.049 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@14b7786
02-11-2018 17:51:01.053 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:51:01.054 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:51:01.054 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:51:01.160 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 17:51:01.161 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 17:51:01.168 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@4d3ca6c7
02-11-2018 17:51:01.171 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:51:01.172 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:51:01.172 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:51:01.183 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUserByEmail - Finish processing query to get user by email. It took 4 ms
02-11-2018 17:51:01.185 [main] INFO     c.g.m.controller.SecurityController.login - User with uuid = f7d218c2-1d23-4270-837a-e58b5374f856 successfully logged in
02-11-2018 17:51:01.194 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 17:51:01.195 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 17:51:01.203 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@14fa92af
02-11-2018 17:51:01.205 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 17:51:01.206 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 17:51:01.206 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 17:51:01.227 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@623a8092: startup date [Fri Nov 02 17:50:57 EET 2018]; root of context hierarchy
02-11-2018 17:51:01.238 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 21:43:18.995 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 21:43:19.049 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@448ff1a8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1a38c59b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7f77e91b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@44a664f2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7f9fcf7f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2357d90a]
02-11-2018 21:43:19.476 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 21:43:19.607 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 21:43:19.825 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@671a5887: startup date [Fri Nov 02 21:43:19 EET 2018]; root of context hierarchy
02-11-2018 21:43:19.976 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 21:43:19.977 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 21:43:20.370 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 21:43:20.520 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 21:43:20.575 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 55 ms.
02-11-2018 21:43:20.575 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 21:43:20.820 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 244 ms.
02-11-2018 21:43:20.913 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 21:43:20.924 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 9 ms
02-11-2018 21:43:20.925 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 21:43:21.264 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 21:43:22.645 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 21:43:22.994 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 21:43:22.997 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 21:43:22.998 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 21:43:22.999 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 21:43:23.000 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 21:43:23.001 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 21:43:23.003 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 21:43:23.003 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 21:43:23.166 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@671a5887: startup date [Fri Nov 02 21:43:19 EET 2018]; root of context hierarchy
02-11-2018 21:43:23.727 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 21:43:23.736 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@3971f0fe
02-11-2018 21:43:23.754 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 21:43:23.755 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 21:43:23.756 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 21:43:23.847 [main] INFO     c.g.movieland.dao.cache.GenreCache.getAll - Get all genres from cache
02-11-2018 21:43:24.044 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 21:43:24.045 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5633dafd, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5d5160e6, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2eadc9f6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2903c6ff, org.springframework.test.context.transaction.TransactionalTestExecutionListener@61af1510, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@37af1f93]
02-11-2018 21:43:24.063 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 21:43:24.064 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 21:43:24.065 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 21:43:24.066 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 21:43:24.074 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@59901c4d
02-11-2018 21:43:24.078 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 21:43:24.078 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 21:43:24.079 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 21:43:24.132 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getAll - Start processing query to get all movies
02-11-2018 21:43:24.142 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getAll - Finish processing query to get all movies. It took 9 ms
02-11-2018 21:43:24.143 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]
02-11-2018 21:43:24.165 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]. It took 21 ms
02-11-2018 21:43:24.166 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]
02-11-2018 21:43:24.171 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]. It took 4 ms
02-11-2018 21:43:24.239 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 21:43:24.240 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 21:43:24.241 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 21:43:24.242 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 21:43:24.250 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@7c251f90
02-11-2018 21:43:24.257 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 21:43:24.257 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 21:43:24.258 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 21:43:24.261 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getThreeRandomMovie - Start processing query to get 3 random movies
02-11-2018 21:43:24.279 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getThreeRandomMovie - Finish processing query to get 3 random movies. It took 18 ms
02-11-2018 21:43:24.280 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [15, 14, 20]
02-11-2018 21:43:24.283 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [15, 14, 20]. It took 2 ms
02-11-2018 21:43:24.284 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [15, 14, 20]
02-11-2018 21:43:24.288 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [15, 14, 20]. It took 3 ms
02-11-2018 21:43:24.308 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 21:43:24.309 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 21:43:24.310 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 21:43:24.311 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 21:43:24.321 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@2f00f851
02-11-2018 21:43:24.326 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 21:43:24.327 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 21:43:24.327 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 21:43:24.341 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getMoviesIdsByGenreId - Start processing query to get movieIds by genreId
02-11-2018 21:43:24.350 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getMoviesIdsByGenreId - Finish processing query to get movieIds by genreId. It took 8 ms
02-11-2018 21:43:24.350 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]
02-11-2018 21:43:24.358 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]. It took 7 ms
02-11-2018 21:43:24.359 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]
02-11-2018 21:43:24.367 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]. It took 7 ms
02-11-2018 21:43:24.368 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]
02-11-2018 21:43:24.373 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]. It took 3 ms
02-11-2018 21:43:24.399 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 21:43:24.400 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 21:43:24.401 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 21:43:24.402 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 21:43:24.409 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@5d51e129
02-11-2018 21:43:24.413 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 21:43:24.413 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 21:43:24.414 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 21:43:24.418 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1]
02-11-2018 21:43:24.420 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1]. It took 1 ms
02-11-2018 21:43:24.421 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1]
02-11-2018 21:43:24.423 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1]. It took 1 ms
02-11-2018 21:43:24.424 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1]
02-11-2018 21:43:24.426 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1]. It took 2 ms
02-11-2018 21:43:24.426 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Start processing query to get reviews with moviesId: 1
02-11-2018 21:43:24.429 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Finish processing query to get reviews with moviesId: 1. It took 2 ms
02-11-2018 21:43:24.430 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUsersByIds - Start processing query to get users with userIds: [2, 3]
02-11-2018 21:43:24.432 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUsersByIds - Finish processing query to get users with userIds: [2, 3]. It took 2 ms
02-11-2018 21:43:24.453 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 21:43:24.454 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4a67b4ec, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@10643593, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@f91da5e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@eca6a74, org.springframework.test.context.transaction.TransactionalTestExecutionListener@79fd6f95, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@48840594]
02-11-2018 21:43:24.539 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 21:43:24.540 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 21:43:24.549 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@1e58512c
02-11-2018 21:43:24.553 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 21:43:24.554 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 21:43:24.555 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 21:43:24.620 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUserByEmail - Finish processing query to get user by email. It took 3 ms
02-11-2018 21:43:24.623 [main] INFO     c.g.m.controller.SecurityController.login - User with uuid = 5af75425-0599-4690-a9c8-4540dc5fa644 successfully logged in
02-11-2018 21:43:24.635 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 21:43:24.636 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 21:43:24.643 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@a92be4f
02-11-2018 21:43:24.646 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 21:43:24.647 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 21:43:24.647 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 21:43:24.666 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 21:43:24.667 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1aad0b1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@c3edf4c, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5af8bb51, org.springframework.test.context.support.DirtiesContextTestExecutionListener@799ed4e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2e66bc32, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@54d8c20d]
02-11-2018 21:43:24.682 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 21:43:24.692 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@4d95a72e
02-11-2018 21:43:24.695 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 21:43:24.696 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 21:43:24.697 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 21:43:24.706 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 21:43:24.707 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 21:43:24.708 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 21:43:24.708 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 21:43:24.728 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@36681447
02-11-2018 21:43:24.738 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 21:43:24.739 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 21:43:24.740 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 21:43:24.775 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@671a5887: startup date [Fri Nov 02 21:43:19 EET 2018]; root of context hierarchy
02-11-2018 21:43:24.784 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 21:45:35.014 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 21:45:35.046 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@799d4f69, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@49c43f4e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@290dbf45, org.springframework.test.context.support.DirtiesContextTestExecutionListener@12028586, org.springframework.test.context.transaction.TransactionalTestExecutionListener@17776a8, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@69a10787]
02-11-2018 21:45:35.053 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 21:45:35.054 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2bbaf4f0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@11c20519, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@70beb599, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4e41089d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@32a068d1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@33cb5951]
02-11-2018 21:45:35.071 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 21:45:35.072 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3444d69d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1372ed45, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6a79c292, org.springframework.test.context.support.DirtiesContextTestExecutionListener@37574691, org.springframework.test.context.transaction.TransactionalTestExecutionListener@25359ed8, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@21a947fe]
02-11-2018 21:45:35.077 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 21:45:35.078 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@80ec1f8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1445d7f, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6a396c1e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6c3f5566, org.springframework.test.context.transaction.TransactionalTestExecutionListener@12405818, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@314c508a]
02-11-2018 21:45:35.837 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 21:45:36.097 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 21:45:36.405 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@623a8092: startup date [Fri Nov 02 21:45:36 EET 2018]; root of context hierarchy
02-11-2018 21:45:36.592 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 21:45:36.593 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 21:45:36.979 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 21:45:37.162 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 21:45:37.195 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 33 ms.
02-11-2018 21:45:37.195 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 21:45:37.423 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 227 ms.
02-11-2018 21:45:37.515 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 21:45:37.525 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 10 ms
02-11-2018 21:45:37.527 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 21:45:37.814 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 21:45:38.768 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 21:45:39.021 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 21:45:39.024 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 21:45:39.026 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 21:45:39.027 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 21:45:39.027 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 21:45:39.029 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 21:45:39.031 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 21:45:39.032 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 21:45:39.126 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@623a8092: startup date [Fri Nov 02 21:45:36 EET 2018]; root of context hierarchy
02-11-2018 21:45:39.588 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 21:45:39.595 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@7ce9e05a
02-11-2018 21:45:39.608 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 21:45:39.609 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 21:45:39.610 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 21:45:39.665 [main] INFO     c.g.movieland.dao.cache.GenreCache.getAll - Get all genres from cache
02-11-2018 21:45:39.824 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 21:45:39.825 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 21:45:39.826 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 21:45:39.827 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 21:45:39.835 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@188b6035
02-11-2018 21:45:39.856 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 21:45:39.857 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 21:45:39.857 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 21:45:39.918 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getAll - Start processing query to get all movies
02-11-2018 21:45:39.933 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getAll - Finish processing query to get all movies. It took 14 ms
02-11-2018 21:45:39.934 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]
02-11-2018 21:45:39.965 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]. It took 31 ms
02-11-2018 21:45:39.966 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]
02-11-2018 21:45:39.972 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]. It took 5 ms
02-11-2018 21:45:40.054 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 21:45:40.055 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 21:45:40.056 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 21:45:40.060 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 21:45:40.072 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@260ff5b7
02-11-2018 21:45:40.076 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 21:45:40.077 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 21:45:40.077 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 21:45:40.080 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getThreeRandomMovie - Start processing query to get 3 random movies
02-11-2018 21:45:40.096 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getThreeRandomMovie - Finish processing query to get 3 random movies. It took 16 ms
02-11-2018 21:45:40.097 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [6, 15, 5]
02-11-2018 21:45:40.100 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [6, 15, 5]. It took 2 ms
02-11-2018 21:45:40.101 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [6, 15, 5]
02-11-2018 21:45:40.103 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [6, 15, 5]. It took 2 ms
02-11-2018 21:45:40.119 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 21:45:40.120 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 21:45:40.121 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 21:45:40.122 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 21:45:40.132 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@5853495b
02-11-2018 21:45:40.137 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 21:45:40.137 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 21:45:40.138 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 21:45:40.151 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getMoviesIdsByGenreId - Start processing query to get movieIds by genreId
02-11-2018 21:45:40.160 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getMoviesIdsByGenreId - Finish processing query to get movieIds by genreId. It took 7 ms
02-11-2018 21:45:40.161 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]
02-11-2018 21:45:40.167 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]. It took 6 ms
02-11-2018 21:45:40.167 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]
02-11-2018 21:45:40.183 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]. It took 15 ms
02-11-2018 21:45:40.185 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]
02-11-2018 21:45:40.188 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]. It took 2 ms
02-11-2018 21:45:40.238 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 21:45:40.239 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 21:45:40.239 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 21:45:40.240 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 21:45:40.249 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@102efc59
02-11-2018 21:45:40.253 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 21:45:40.254 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 21:45:40.255 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 21:45:40.259 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1]
02-11-2018 21:45:40.261 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1]. It took 1 ms
02-11-2018 21:45:40.262 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1]
02-11-2018 21:45:40.264 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1]. It took 2 ms
02-11-2018 21:45:40.265 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1]
02-11-2018 21:45:40.266 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1]. It took 1 ms
02-11-2018 21:45:40.267 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Start processing query to get reviews with moviesId: 1
02-11-2018 21:45:40.270 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Finish processing query to get reviews with moviesId: 1. It took 2 ms
02-11-2018 21:45:40.271 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUsersByIds - Start processing query to get users with userIds: [2, 3]
02-11-2018 21:45:40.274 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUsersByIds - Finish processing query to get users with userIds: [2, 3]. It took 3 ms
02-11-2018 21:45:40.365 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 21:45:40.375 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@3f702946
02-11-2018 21:45:40.379 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 21:45:40.379 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 21:45:40.380 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 21:45:40.384 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 21:45:40.387 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 21:45:40.388 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 21:45:40.388 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 21:45:40.415 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@14b7786
02-11-2018 21:45:40.419 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 21:45:40.419 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 21:45:40.420 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 21:45:40.513 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 21:45:40.514 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 21:45:40.522 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@4d3ca6c7
02-11-2018 21:45:40.525 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 21:45:40.525 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 21:45:40.526 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 21:45:40.536 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUserByEmail - Finish processing query to get user by email. It took 3 ms
02-11-2018 21:45:40.541 [main] INFO     c.g.m.controller.SecurityController.login - User with uuid = 75ac4634-952a-485e-b92e-9af55ca94f25 successfully logged in
02-11-2018 21:45:40.571 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 21:45:40.572 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 21:45:40.597 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@14fa92af
02-11-2018 21:45:40.603 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 21:45:40.603 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 21:45:40.604 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 21:45:40.636 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@623a8092: startup date [Fri Nov 02 21:45:36 EET 2018]; root of context hierarchy
02-11-2018 21:45:40.659 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 22:38:32.093 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 22:38:32.114 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6cc7b4de, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@32cf48b7, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@679b62af, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5cdd8682, org.springframework.test.context.transaction.TransactionalTestExecutionListener@d6da883, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@45afc369]
02-11-2018 22:38:32.681 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 22:38:32.965 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 22:38:33.522 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1f59a598: startup date [Fri Nov 02 22:38:33 EET 2018]; root of context hierarchy
02-11-2018 22:38:33.813 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 22:38:33.814 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 22:38:34.215 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 22:38:34.434 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 22:38:34.462 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 28 ms.
02-11-2018 22:38:34.463 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 22:38:34.716 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 253 ms.
02-11-2018 22:38:34.797 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getAll - Start processing query to get all countries
02-11-2018 22:38:34.809 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getAll - Finish processing query to get all countries. It took 11 ms
02-11-2018 22:38:34.811 [main] INFO     c.g.movieland.dao.cache.CountryCache.invalidate - Update all countries in cache from dao
02-11-2018 22:38:34.829 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 22:38:34.833 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 2 ms
02-11-2018 22:38:34.834 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 22:38:35.031 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 22:38:35.933 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 22:38:36.227 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/country],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Country> com.gordeev.movieland.controller.CountryController.getAllGenre()
02-11-2018 22:38:36.229 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 22:38:36.233 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 22:38:36.234 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 22:38:36.235 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 22:38:36.236 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 22:38:36.238 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 22:38:36.240 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 22:38:36.241 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 22:38:36.344 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@1f59a598: startup date [Fri Nov 02 22:38:33 EET 2018]; root of context hierarchy
02-11-2018 22:38:36.787 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/country],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Country> com.gordeev.movieland.controller.CountryController.getAllGenre()
02-11-2018 22:38:36.794 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@46d9aec8
02-11-2018 22:38:36.808 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 22:38:36.809 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 22:38:36.810 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 22:38:36.885 [main] INFO     c.g.movieland.dao.cache.CountryCache.getAll - Get all countries from cache
02-11-2018 22:38:37.046 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@1f59a598: startup date [Fri Nov 02 22:38:33 EET 2018]; root of context hierarchy
02-11-2018 22:38:37.053 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
02-11-2018 22:41:54.781 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 22:41:54.814 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1a38c59b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7f77e91b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@44a664f2, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7f9fcf7f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2357d90a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6328d34a]
02-11-2018 22:41:55.227 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-context.xml]
02-11-2018 22:41:55.366 [main] INFO     o.s.b.f.xml.XmlBeanDefinitionReader.loadBeanDefinitions - Loading XML bean definitions from class path resource [spring/test-db-context.xml]
02-11-2018 22:41:55.578 [main] INFO     o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5552768b: startup date [Fri Nov 02 22:41:55 EET 2018]; root of context hierarchy
02-11-2018 22:41:55.725 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=jdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'jdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 22:41:55.726 [main] INFO     o.s.c.a.ConfigurationClassBeanDefinitionReader.isOverriddenByExistingDefinition - Skipping bean definition for [BeanMethod:name=namedJdbcTemplate,declaringClass=com.gordeev.movieland.configuration.JdbcConfig]: a definition for bean 'namedJdbcTemplate' already exists. This top-level bean definition is considered as an override.
02-11-2018 22:41:56.214 [main] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.initDatabase - Starting embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
02-11-2018 22:41:56.471 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/schema.sql]
02-11-2018 22:41:56.510 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/schema.sql] in 38 ms.
02-11-2018 22:41:56.511 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executing SQL script from class path resource [db/data.sql]
02-11-2018 22:41:56.755 [main] INFO     o.s.jdbc.datasource.init.ScriptUtils.executeSqlScript - Executed SQL script from class path resource [db/data.sql] in 243 ms.
02-11-2018 22:41:56.841 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getAll - Start processing query to get all countries
02-11-2018 22:41:56.851 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getAll - Finish processing query to get all countries. It took 10 ms
02-11-2018 22:41:56.853 [main] INFO     c.g.movieland.dao.cache.CountryCache.invalidate - Update all countries in cache from dao
02-11-2018 22:41:56.872 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Start processing query to get all genres
02-11-2018 22:41:56.874 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getAll - Finish processing query to get all genres. It took 2 ms
02-11-2018 22:41:56.875 [main] INFO     c.g.movieland.dao.cache.GenreCache.invalidate - Update all genres in cache from dao
02-11-2018 22:41:57.070 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Start to get exchange rate from Bank
02-11-2018 22:41:58.021 [main] INFO     c.g.m.s.i.util.ExchangeRateService.getExchangeRateFromBank - Exchange rate from Bank received
02-11-2018 22:41:58.266 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/country],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Country> com.gordeev.movieland.controller.CountryController.getAllGenre()
02-11-2018 22:41:58.268 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 22:41:58.271 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 22:41:58.272 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 22:41:58.273 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 22:41:58.273 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 22:41:58.275 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 22:41:58.276 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 22:41:58.278 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 22:41:58.361 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@5552768b: startup date [Fri Nov 02 22:41:55 EET 2018]; root of context hierarchy
02-11-2018 22:41:58.720 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/genre],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Genre> com.gordeev.movieland.controller.GenreController.getAllGenre()
02-11-2018 22:41:58.727 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@365a6a43
02-11-2018 22:41:58.739 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 22:41:58.740 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 22:41:58.740 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 22:41:58.797 [main] INFO     c.g.movieland.dao.cache.GenreCache.getAll - Get all genres from cache
02-11-2018 22:41:58.912 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 22:41:58.913 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7487b142, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7139bd31, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@199bc830, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4b3fe06e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@27b45ea, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3e17a0a1]
02-11-2018 22:41:58.923 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 22:41:58.924 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 22:41:58.925 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 22:41:58.927 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 22:41:58.934 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@150ede8b
02-11-2018 22:41:58.940 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 22:41:58.940 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 22:41:58.940 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 22:41:58.999 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getAll - Start processing query to get all movies
02-11-2018 22:41:59.009 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getAll - Finish processing query to get all movies. It took 9 ms
02-11-2018 22:41:59.010 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]
02-11-2018 22:41:59.034 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]. It took 23 ms
02-11-2018 22:41:59.035 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]
02-11-2018 22:41:59.040 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]. It took 4 ms
02-11-2018 22:41:59.112 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 22:41:59.113 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 22:41:59.114 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 22:41:59.115 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 22:41:59.122 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@c6c82aa
02-11-2018 22:41:59.126 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 22:41:59.126 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 22:41:59.127 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 22:41:59.129 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getThreeRandomMovie - Start processing query to get 3 random movies
02-11-2018 22:41:59.152 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getThreeRandomMovie - Finish processing query to get 3 random movies. It took 22 ms
02-11-2018 22:41:59.153 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [12, 3, 8]
02-11-2018 22:41:59.155 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [12, 3, 8]. It took 2 ms
02-11-2018 22:41:59.156 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [12, 3, 8]
02-11-2018 22:41:59.158 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [12, 3, 8]. It took 1 ms
02-11-2018 22:41:59.178 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 22:41:59.180 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 22:41:59.182 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 22:41:59.183 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 22:41:59.191 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@7d04529c
02-11-2018 22:41:59.195 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 22:41:59.195 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 22:41:59.196 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 22:41:59.206 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getMoviesIdsByGenreId - Start processing query to get movieIds by genreId
02-11-2018 22:41:59.212 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getMoviesIdsByGenreId - Finish processing query to get movieIds by genreId. It took 5 ms
02-11-2018 22:41:59.213 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]
02-11-2018 22:41:59.219 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]. It took 5 ms
02-11-2018 22:41:59.220 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]
02-11-2018 22:41:59.223 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]. It took 2 ms
02-11-2018 22:41:59.224 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]
02-11-2018 22:41:59.227 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1, 2, 3, 4, 5, 6, 7, 8, 12, 13, 15, 17, 19, 20, 24, 25]. It took 3 ms
02-11-2018 22:41:59.250 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 22:41:59.251 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 22:41:59.252 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 22:41:59.252 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 22:41:59.258 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@49c675f0
02-11-2018 22:41:59.262 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 22:41:59.262 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 22:41:59.263 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 22:41:59.268 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Start processing query to get movies with moviesIds: [1]
02-11-2018 22:41:59.270 [main] INFO     c.g.movieland.dao.jdbc.JdbcMovieDao.getMoviesByIds - Finish processing query to get movies with moviesIds: [1]. It took 2 ms
02-11-2018 22:41:59.270 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Start processing query to get genres for movies with moviesIds: [1]
02-11-2018 22:41:59.272 [main] INFO     c.g.movieland.dao.jdbc.JdbcGenreDao.getGenresForMovies - Finish processing query to get genres for movies with moviesIds: [1]. It took 1 ms
02-11-2018 22:41:59.273 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Start processing query to get countries for movies with moviesIds: [1]
02-11-2018 22:41:59.275 [main] INFO     c.g.m.dao.jdbc.JdbcCountryDao.getCountriesForMovies - Finish processing query to get countries for movies with moviesIds: [1]. It took 2 ms
02-11-2018 22:41:59.276 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Start processing query to get reviews with moviesId: 1
02-11-2018 22:41:59.278 [main] INFO     c.g.movieland.dao.jdbc.JdbcReviewDao.getByMovieId - Finish processing query to get reviews with moviesId: 1. It took 2 ms
02-11-2018 22:41:59.279 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUsersByIds - Start processing query to get users with userIds: [2, 3]
02-11-2018 22:41:59.282 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUsersByIds - Finish processing query to get users with userIds: [2, 3]. It took 2 ms
02-11-2018 22:41:59.299 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 22:41:59.300 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@36a6bea6, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@44e93c1f, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@42373389, org.springframework.test.context.support.DirtiesContextTestExecutionListener@9b21bd3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@a62c7cd, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7661b5a]
02-11-2018 22:41:59.354 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 22:41:59.355 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 22:41:59.361 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@7ff35a3f
02-11-2018 22:41:59.363 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 22:41:59.364 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 22:41:59.364 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 22:41:59.434 [main] INFO     c.g.movieland.dao.jdbc.JdbcUserDao.getUserByEmail - Finish processing query to get user by email. It took 7 ms
02-11-2018 22:41:59.436 [main] INFO     c.g.m.controller.SecurityController.login - User with uuid = 5013bb55-0771-469f-a93c-9ce73aaa144a successfully logged in
02-11-2018 22:41:59.446 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/login],methods=[POST]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.login(com.gordeev.movieland.entity.User)
02-11-2018 22:41:59.448 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/logout],methods=[DELETE]}" onto protected org.springframework.http.ResponseEntity com.gordeev.movieland.controller.SecurityController.logout(java.lang.String)
02-11-2018 22:41:59.455 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@2e66bc32
02-11-2018 22:41:59.458 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 22:41:59.458 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 22:41:59.459 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 1 ms
02-11-2018 22:41:59.476 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 22:41:59.476 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6dcc40f5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2b680207, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@70887727, org.springframework.test.context.support.DirtiesContextTestExecutionListener@56da7487, org.springframework.test.context.transaction.TransactionalTestExecutionListener@599e4d41, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@328d044f]
02-11-2018 22:41:59.487 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/review],methods=[POST]}" onto protected void com.gordeev.movieland.controller.ReviewController.add(com.gordeev.movieland.entity.Review,java.lang.String)
02-11-2018 22:41:59.493 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@75de29c0
02-11-2018 22:41:59.496 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 22:41:59.496 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 22:41:59.497 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 22:41:59.500 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/{movieId}],methods=[GET]}" onto protected com.gordeev.movieland.entity.Movie com.gordeev.movieland.controller.MovieController.getMovieById(com.gordeev.movieland.vo.Currency,int)
02-11-2018 22:41:59.501 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getAllMovie(com.gordeev.movieland.vo.SortDirection,com.gordeev.movieland.vo.SortDirection)
02-11-2018 22:41:59.502 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/random],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getThreeRandomMovie()
02-11-2018 22:41:59.503 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/movie/genre/{genreId}],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Movie> com.gordeev.movieland.controller.MovieController.getMoviesByGenreId(int)
02-11-2018 22:41:59.509 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@5dd903be
02-11-2018 22:41:59.512 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 22:41:59.512 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 22:41:59.513 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 22:41:59.531 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
02-11-2018 22:41:59.532 [main] INFO     o.s.t.c.w.WebTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@588f63c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5a6fa56e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1981d861, org.springframework.test.context.support.DirtiesContextTestExecutionListener@118ffcfd, org.springframework.test.context.transaction.TransactionalTestExecutionListener@53f4c1e6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@74174a23]
02-11-2018 22:41:59.541 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/country],methods=[GET]}" onto protected java.util.List<com.gordeev.movieland.entity.Country> com.gordeev.movieland.controller.CountryController.getAllGenre()
02-11-2018 22:41:59.548 [main] INFO     o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.test.web.servlet.setup.StubWebApplicationContext@784abd3e
02-11-2018 22:41:59.551 [main] INFO     o.s.mock.web.MockServletContext.log - Initializing Spring FrameworkServlet ''
02-11-2018 22:41:59.551 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization started
02-11-2018 22:41:59.552 [main] INFO     o.s.t.w.s.TestDispatcherServlet.initServletBean - FrameworkServlet '': initialization completed in 0 ms
02-11-2018 22:41:59.555 [main] INFO     c.g.movieland.dao.cache.CountryCache.getAll - Get all countries from cache
02-11-2018 22:41:59.569 [Thread-1] INFO     o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@5552768b: startup date [Fri Nov 02 22:41:55 EET 2018]; root of context hierarchy
02-11-2018 22:41:59.575 [Thread-1] INFO     o.s.j.d.e.EmbeddedDatabaseFactory.shutdownDatabase - Shutting down embedded database: url='jdbc:h2:mem:dataSource;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
